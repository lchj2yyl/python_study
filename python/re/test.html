
<!-- saved from url=(0066)https://www.ibm.com/developerworks/cn/opensource/os-cn-pythonwith/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><div class="line-gutter-backdrop"></div><table><tbody><tr><td class="line-number" value="1"></td><td class="line-content"></td></tr><tr><td class="line-number" value="2"></td><td class="line-content"></td></tr><tr><td class="line-number" value="3"></td><td class="line-content"></td></tr><tr><td class="line-number" value="4"></td><td class="line-content"><span class="html-doctype">&lt;!DOCTYPE html&gt;</span></td></tr><tr><td class="line-number" value="5"></td><td class="line-content"></td></tr><tr><td class="line-number" value="6"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="7"></td><td class="line-content"><span class="html-tag">&lt;html <span class="html-attribute-name">lang</span>="<span class="html-attribute-value">zh-CN</span>"&gt;</span></td></tr><tr><td class="line-number" value="8"></td><td class="line-content"><span class="html-tag">&lt;head&gt;</span></td></tr><tr><td class="line-number" value="9"></td><td class="line-content"><span class="html-tag">&lt;meta <span class="html-attribute-name">charset</span>="<span class="html-attribute-value">UTF-8</span>"/&gt;</span>	</td></tr><tr><td class="line-number" value="10"></td><td class="line-content"><span class="html-tag">&lt;meta <span class="html-attribute-name">name</span>="<span class="html-attribute-value">viewport</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">width=device-width, initial-scale=1</span>"/&gt;</span>      </td></tr><tr><td class="line-number" value="11"></td><td class="line-content"><span class="html-tag">&lt;link <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">icon</span>" <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://www.ibm.com/favicon.ico">//www.ibm.com/favicon.ico</a>"/&gt;</span></td></tr><tr><td class="line-number" value="12"></td><td class="line-content"><span class="html-tag">&lt;link <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">canonical</span>" <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-pythonwith/index.html">http://www.ibm.com/developerworks/cn/opensource/os-cn-pythonwith/index.html</a>"/&gt;</span></td></tr><tr><td class="line-number" value="13"></td><td class="line-content"><span class="html-tag">&lt;meta <span class="html-attribute-name">name</span>="<span class="html-attribute-value">geo.country</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">CN</span>"/&gt;</span></td></tr><tr><td class="line-number" value="14"></td><td class="line-content"><span class="html-tag">&lt;meta <span class="html-attribute-name">name</span>="<span class="html-attribute-value">dcterms.rights</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">© Copyright&nbsp;IBM Corporation&nbsp;2011</span>"/&gt;</span></td></tr><tr><td class="line-number" value="15"></td><td class="line-content"><span class="html-tag">&lt;meta <span class="html-attribute-name">name</span>="<span class="html-attribute-value">dcterms.date</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">2011-12-02</span>"/&gt;</span></td></tr><tr><td class="line-number" value="16"></td><td class="line-content"><span class="html-tag">&lt;meta <span class="html-attribute-name">name</span>="<span class="html-attribute-value">description</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">with 语句是在 Python 2.5 版本引入的，从 2.6 版本开始成为缺省的功能。with 语句作为 try/finally 编码范式的一种替代，用于对资源访问进行控制的场合。本章对 with 语句进行介绍，包括 with 语句的基本语法和工作原理，自定义支持 with 语句的类，以及使用 contextlib 工具加入对 with 语句的支持，使读者更好的了解和使用 with 语句。</span>"/&gt;</span>	</td></tr><tr><td class="line-number" value="17"></td><td class="line-content"><span class="html-tag">&lt;meta <span class="html-attribute-name">name</span>="<span class="html-attribute-value">keywords</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">Python, tttosca</span>"/&gt;</span></td></tr><tr><td class="line-number" value="18"></td><td class="line-content"><span class="html-tag">&lt;meta <span class="html-attribute-name">name</span>="<span class="html-attribute-value">robots</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">index,follow</span>"/&gt;</span></td></tr><tr><td class="line-number" value="19"></td><td class="line-content"><span class="html-tag">&lt;title&gt;</span>浅谈 Python 的 with 语句<span class="html-tag">&lt;/title&gt;</span></td></tr><tr><td class="line-number" value="20"></td><td class="line-content">    </td></tr><tr><td class="line-number" value="21"></td><td class="line-content"><span class="html-tag">&lt;script&gt;</span> </td></tr><tr><td class="line-number" value="22"></td><td class="line-content">    digitalData = {</td></tr><tr><td class="line-number" value="23"></td><td class="line-content">        "page":{</td></tr><tr><td class="line-number" value="24"></td><td class="line-content">            "category":{</td></tr><tr><td class="line-number" value="25"></td><td class="line-content">                "primaryCategory":"SOFDCOSRCN"</td></tr><tr><td class="line-number" value="26"></td><td class="line-content">            },</td></tr><tr><td class="line-number" value="27"></td><td class="line-content">            "pageInfo":{</td></tr><tr><td class="line-number" value="28"></td><td class="line-content">                "effectiveDate":"2011-12-02",</td></tr><tr><td class="line-number" value="29"></td><td class="line-content">                "language":"zh-CN",</td></tr><tr><td class="line-number" value="30"></td><td class="line-content">                "publishDate":"2011-12-02",</td></tr><tr><td class="line-number" value="31"></td><td class="line-content">                "publisher":"IBM Corporation",</td></tr><tr><td class="line-number" value="32"></td><td class="line-content">                "version":"v18",</td></tr><tr><td class="line-number" value="33"></td><td class="line-content">                "ibm":{ </td></tr><tr><td class="line-number" value="34"></td><td class="line-content">                    "contentDelivery":"IBM developerWorks template",</td></tr><tr><td class="line-number" value="35"></td><td class="line-content">                    "contentProducer":"IBM developerWorks",</td></tr><tr><td class="line-number" value="36"></td><td class="line-content">                    "country":"CN",</td></tr><tr><td class="line-number" value="37"></td><td class="line-content">                    "owner":"developerWorks/China/IBM",</td></tr><tr><td class="line-number" value="38"></td><td class="line-content">                    "subject":"TT400",</td></tr><tr><td class="line-number" value="39"></td><td class="line-content">                    "type":"CT316",</td></tr><tr><td class="line-number" value="40"></td><td class="line-content">                    "topic":"Python",</td></tr><tr><td class="line-number" value="41"></td><td class="line-content">                    "topicId":"46",</td></tr><tr><td class="line-number" value="42"></td><td class="line-content">                    "contentArea":"opensource",</td></tr><tr><td class="line-number" value="43"></td><td class="line-content">                    "contentAreaId":"7",</td></tr><tr><td class="line-number" value="44"></td><td class="line-content">                    "contentType":"article",</td></tr><tr><td class="line-number" value="45"></td><td class="line-content">                    "contentId":"778639",</td></tr><tr><td class="line-number" value="46"></td><td class="line-content">                },</td></tr><tr><td class="line-number" value="47"></td><td class="line-content">                "keywords":"Python, tttosca",</td></tr><tr><td class="line-number" value="48"></td><td class="line-content">                "description":"with 语句是在 Python 2.5 版本引入的，从 2.6 版本开始成为缺省的功能。with 语句作为 try/finally 编码范式的一种替代，用于对资源访问进行控制的场合。本章对 with 语句进行介绍，包括 with 语句的基本语法和工作原理，自定义支持 with 语句的类，以及使用 contextlib 工具加入对 with 语句的支持，使读者更好的了解和使用 with 语句。"</td></tr><tr><td class="line-number" value="49"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="50"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="51"></td><td class="line-content">    };</td></tr><tr><td class="line-number" value="52"></td><td class="line-content">    window._analytics = {</td></tr><tr><td class="line-number" value="53"></td><td class="line-content">        "segment_key":'HU3dbkAG5wE0F1IkRf9S1RexlAqo3jby'</td></tr><tr><td class="line-number" value="54"></td><td class="line-content">    };</td></tr><tr><td class="line-number" value="55"></td><td class="line-content"><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="56"></td><td class="line-content">	</td></tr><tr><td class="line-number" value="57"></td><td class="line-content">    <span class="html-tag">&lt;meta <span class="html-attribute-name">name</span>="<span class="html-attribute-value">twitter:card</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">summary</span>"/&gt;</span></td></tr><tr><td class="line-number" value="58"></td><td class="line-content"><span class="html-tag">&lt;meta <span class="html-attribute-name">name</span>="<span class="html-attribute-value">twitter:site</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">@developerworks</span>"/&gt;</span></td></tr><tr><td class="line-number" value="59"></td><td class="line-content"><span class="html-tag">&lt;meta <span class="html-attribute-name">property</span>="<span class="html-attribute-value">og:title</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">浅谈 Python 的 with 语句</span>"/&gt;</span></td></tr><tr><td class="line-number" value="60"></td><td class="line-content"><span class="html-tag">&lt;meta <span class="html-attribute-name">property</span>="<span class="html-attribute-value">og:description</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">with 语句是在 Python 2.5 版本引入的，从 2.6 版本开始成为缺省的功能。with 语句作为 try/finally 编码范式的一种替代，用于对资源访问进行控制的场合。本章对 with 语句进行介绍，包括 with 语句的基本语法和工作原理，自定义支持 with 语句的类，以及使用 contextlib 工具加入对 with 语句的支持，使读者更好的了解和使用 with 语句。</span>"/&gt;</span></td></tr><tr><td class="line-number" value="61"></td><td class="line-content">    <span class="html-tag">&lt;meta <span class="html-attribute-name">property</span>="<span class="html-attribute-value">og:image</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">http://www.ibm.com/developerworks/i/dw-social-201508.png</span>"/&gt;</span></td></tr><tr><td class="line-number" value="62"></td><td class="line-content"><span class="html-comment">&lt;!-- Segment meta tag --&gt;</span></td></tr><tr><td class="line-number" value="63"></td><td class="line-content"><span class="html-tag">&lt;meta <span class="html-attribute-name">name</span>="<span class="html-attribute-value">segment</span>" <span class="html-attribute-name">property</span>="<span class="html-attribute-value">(developerWorks)</span>" <span class="html-attribute-name">productTitle</span>="<span class="html-attribute-value">developerWorks</span>" <span class="html-attribute-name">value</span>="<span class="html-attribute-value">Open Source Chinese (developerWorks)</span>"/&gt;</span>      </td></tr><tr><td class="line-number" value="64"></td><td class="line-content"><span class="html-comment">&lt;!-- SITE MON : START (DO NOT DELETE) --&gt;</span></td></tr><tr><td class="line-number" value="65"></td><td class="line-content"><span class="html-comment">&lt;!-- developerWorks monitoring token --&gt;</span></td></tr><tr><td class="line-number" value="66"></td><td class="line-content"><span class="html-comment">&lt;!-- SITE MON : END (DO NOT DELETE) --&gt;</span></td></tr><tr><td class="line-number" value="67"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="68"></td><td class="line-content"><span class="html-comment">&lt;!-- HEADER_SCRIPTS_AND_CSS_INCLUDE --&gt;</span></td></tr><tr><td class="line-number" value="69"></td><td class="line-content"><span class="html-comment">&lt;!-- &lt;script src="//cdn.optimizely.com/js/5399420604.js"&gt;&lt;/script&gt; --&gt;</span></td></tr><tr><td class="line-number" value="70"></td><td class="line-content"><span class="html-comment">&lt;!-- BEGIN: Use this section to set page specific variables for the Page Tag --&gt;</span></td></tr><tr><td class="line-number" value="71"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">language</span>="<span class="html-attribute-value">JavaScript</span>"&gt;</span>var NTPT_PGEXTRA="ibmSkillLevel=1&amp;ibmCmaId=778639&amp;ibmContentAreas=opensource";<span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="72"></td><td class="line-content"><span class="html-comment">&lt;!--END --&gt;</span></td></tr><tr><td class="line-number" value="73"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://1.www.s81c.com/common/stats/ida_stats.js">//1.www.s81c.com/common/stats/ida_stats.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="74"></td><td class="line-content"><span class="html-tag">&lt;link <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://1.www.s81c.com/common/v18/css/www.css">//1.www.s81c.com/common/v18/css/www.css</a>" <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">stylesheet</span>"&gt;</span></td></tr><tr><td class="line-number" value="75"></td><td class="line-content"><span class="html-tag">&lt;link <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://1.www.s81c.com/common/v18/css/syntaxhighlighter.css">//1.www.s81c.com/common/v18/css/syntaxhighlighter.css</a>" <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">stylesheet</span>"&gt;</span></td></tr><tr><td class="line-number" value="76"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://1.www.s81c.com/common/v18/js/www.js">//1.www.s81c.com/common/v18/js/www.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="77"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://1.www.s81c.com/common/v18/js/syntaxhighlighter.js">//1.www.s81c.com/common/v18/js/syntaxhighlighter.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span>    </td></tr><tr><td class="line-number" value="78"></td><td class="line-content"><span class="html-tag">&lt;link <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://1.www.s81c.com/common/v18/css/tables.css">//1.www.s81c.com/common/v18/css/tables.css</a>" <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">stylesheet</span>"&gt;</span></td></tr><tr><td class="line-number" value="79"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://1.www.s81c.com/common/v18/js/tables.js">//1.www.s81c.com/common/v18/js/tables.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span>   </td></tr><tr><td class="line-number" value="80"></td><td class="line-content"><span class="html-comment">&lt;!--  Masthead/footer  --&gt;</span></td></tr><tr><td class="line-number" value="81"></td><td class="line-content"><span class="html-tag">&lt;link <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://dw1.s81c.com/developerworks/css/dw-mf/v18/dw-mf-v18.css?v=092117">//dw1.s81c.com/developerworks/css/dw-mf/v18/dw-mf-v18.css?v=092117</a>" <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">stylesheet</span>"&gt;</span></td></tr><tr><td class="line-number" value="82"></td><td class="line-content"><span class="html-comment">&lt;!-- &lt;link href="//dw1.s81c.com/developerworks/css/dw-mf/v18/alt-signedin-ux.css" rel="stylesheet" /&gt; --&gt;</span>   </td></tr><tr><td class="line-number" value="83"></td><td class="line-content"><span class="html-comment">&lt;!--[if lt IE 9]&gt;</span></td></tr><tr><td class="line-number" value="84"></td><td class="line-content"><span class="html-comment">    &lt;link href="//dw1.s81c.com/developerworks/css/dw-mf/v18/dw-mf-ie8fix.css?v=022216" rel="stylesheet" /&gt;</span></td></tr><tr><td class="line-number" value="85"></td><td class="line-content"><span class="html-comment">&lt;![endif]--&gt;</span></td></tr><tr><td class="line-number" value="86"></td><td class="line-content"><span class="html-tag">&lt;link <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://dw1.s81c.com/developerworks/css/v18/dw-article.css?v=073117">//dw1.s81c.com/developerworks/css/v18/dw-article.css?v=073117</a>" <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">stylesheet</span>"&gt;</span></td></tr><tr><td class="line-number" value="87"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://dw1.s81c.com/developerworks/js/v18/dw-auth-properties.js?v=041017">//dw1.s81c.com/developerworks/js/v18/dw-auth-properties.js?v=041017</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="88"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://dw1.s81c.com/developerworks/js/v18/dw-auth.js?v=062717">//dw1.s81c.com/developerworks/js/v18/dw-auth.js?v=062717</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="89"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://dw1.s81c.com/developerworks/js/dw-mf/v18/dw-mf.js?v=110316">//dw1.s81c.com/developerworks/js/dw-mf/v18/dw-mf.js?v=110316</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="90"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://dw1.s81c.com/developerworks/js/v18/dw-include.js">//dw1.s81c.com/developerworks/js/v18/dw-include.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span>     </td></tr><tr><td class="line-number" value="91"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://dw1.s81c.com/developerworks/js/v18/dw-article.js?v=051817">//dw1.s81c.com/developerworks/js/v18/dw-article.js?v=051817</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="92"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://dw1.s81c.com/developerworks/js/v18/dw-auto-links.js?v=091217">//dw1.s81c.com/developerworks/js/v18/dw-auto-links.js?v=091217</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span>     </td></tr><tr><td class="line-number" value="93"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://www.ibm.com/software/info/js/tactic.js">//www.ibm.com/software/info/js/tactic.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="94"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://www.ibm.com/software/info/js/tacticbindlinks.js">//www.ibm.com/software/info/js/tacticbindlinks.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="95"></td><td class="line-content"> <span class="html-comment">&lt;!-- Segment --&gt;</span></td></tr><tr><td class="line-number" value="96"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://console.ng.bluemix.net/analytics/build/bluemix-analytics.min.js">//console.ng.bluemix.net/analytics/build/bluemix-analytics.min.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="97"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="98"></td><td class="line-content"><span class="html-comment">&lt;!-- </span></td></tr><tr><td class="line-number" value="99"></td><td class="line-content"><span class="html-comment">&lt;PageMap&gt;</span></td></tr><tr><td class="line-number" value="100"></td><td class="line-content"><span class="html-comment">    &lt;DataObject type="document"&gt;</span></td></tr><tr><td class="line-number" value="101"></td><td class="line-content"><span class="html-comment">        &lt;Attribute name="topic"&gt;Python&lt;/Attribute&gt;</span></td></tr><tr><td class="line-number" value="102"></td><td class="line-content"><span class="html-comment">        &lt;Attribute name="topicId"&gt;46&lt;/Attribute&gt;</span></td></tr><tr><td class="line-number" value="103"></td><td class="line-content"><span class="html-comment">        &lt;Attribute name="contentArea"&gt;opensource&lt;/Attribute&gt;</span></td></tr><tr><td class="line-number" value="104"></td><td class="line-content"><span class="html-comment">        &lt;Attribute name="contentAreaId"&gt;7&lt;/Attribute&gt;</span></td></tr><tr><td class="line-number" value="105"></td><td class="line-content"><span class="html-comment">        &lt;Attribute name="abstract"&gt;with 语句是在 Python 2.5 版本引入的，从 2.6 版本开始成为缺省的功能。with 语句作为 try/finally 编码范式的一种替代，用于对资源访问进行控制的场合。本章对 with 语句进行介绍，包括 with 语句的基本语法和工作原理，自定义支持 with 语句的类，以及使用 contextlib 工具加入对 with 语句的支持，使读者更好的了解和使用 with 语句。&lt;/Attribute&gt;</span></td></tr><tr><td class="line-number" value="106"></td><td class="line-content"><span class="html-comment">        &lt;Attribute name="pub.date"&gt;2011-12-02&lt;/Attribute&gt;</span></td></tr><tr><td class="line-number" value="107"></td><td class="line-content"><span class="html-comment">        &lt;Attribute name="contentType"&gt;article&lt;/Attribute&gt;</span></td></tr><tr><td class="line-number" value="108"></td><td class="line-content"><span class="html-comment">    &lt;/DataObject&gt;</span></td></tr><tr><td class="line-number" value="109"></td><td class="line-content"><span class="html-comment">&lt;/PageMap&gt;</span></td></tr><tr><td class="line-number" value="110"></td><td class="line-content"><span class="html-comment">--&gt;</span>        </td></tr><tr><td class="line-number" value="111"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="112"></td><td class="line-content"><span class="html-tag">&lt;/head&gt;</span></td></tr><tr><td class="line-number" value="113"></td><td class="line-content"><span class="html-tag">&lt;body <span class="html-attribute-name">id</span>="<span class="html-attribute-value">ibm-com</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-type dw-js-disabled</span>"&gt;</span></td></tr><tr><td class="line-number" value="114"></td><td class="line-content">	</td></tr><tr><td class="line-number" value="115"></td><td class="line-content"><span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">ibm-top</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-landing-page</span>"&gt;</span></td></tr><tr><td class="line-number" value="116"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="117"></td><td class="line-content"><span class="html-comment">&lt;!-- MASTHEAD_BEGIN --&gt;</span></td></tr><tr><td class="line-number" value="118"></td><td class="line-content"><span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">ibm-masthead</span>" <span class="html-attribute-name">role</span>="<span class="html-attribute-value">banner</span>" <span class="html-attribute-name">aria-label</span>="<span class="html-attribute-value">IBM</span>"&gt;</span></td></tr><tr><td class="line-number" value="119"></td><td class="line-content">    <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">ibm-universal-nav</span>"&gt;</span>    </td></tr><tr><td class="line-number" value="120"></td><td class="line-content">  </td></tr><tr><td class="line-number" value="121"></td><td class="line-content">        <span class="html-tag">&lt;nav <span class="html-attribute-name">role</span>="<span class="html-attribute-value">navigation</span>" <span class="html-attribute-name">aria-label</span>="<span class="html-attribute-value">IBM</span>"&gt;</span></td></tr><tr><td class="line-number" value="122"></td><td class="line-content">            <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">ibm-home</span>"&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/cn/zh/">https://www.ibm.com/cn/zh/</a>"&gt;</span>IBM®<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="123"></td><td class="line-content">            <span class="html-tag">&lt;ul <span class="html-attribute-name">id</span>="<span class="html-attribute-value">ibm-menu-links</span>" <span class="html-attribute-name">role</span>="<span class="html-attribute-value">toolbar</span>" <span class="html-attribute-name">aria-label</span>="<span class="html-attribute-value">Site map</span>"&gt;</span></td></tr><tr><td class="line-number" value="124"></td><td class="line-content">                <span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/sitemap/cn/zh/">https://www.ibm.com/sitemap/cn/zh/</a>"&gt;</span>站点地图<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="125"></td><td class="line-content">            <span class="html-tag">&lt;/ul&gt;</span> </td></tr><tr><td class="line-number" value="126"></td><td class="line-content">        <span class="html-tag">&lt;/nav&gt;</span></td></tr><tr><td class="line-number" value="127"></td><td class="line-content">  </td></tr><tr><td class="line-number" value="128"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">ibm-search-module</span>" <span class="html-attribute-name">role</span>="<span class="html-attribute-value">search</span>" <span class="html-attribute-name">aria-labelledby</span>="<span class="html-attribute-value">ibm-masthead</span>"&gt;</span></td></tr><tr><td class="line-number" value="129"></td><td class="line-content">            <span class="html-tag">&lt;form <span class="html-attribute-name">id</span>="<span class="html-attribute-value">ibm-search-form</span>" <span class="html-attribute-name">action</span>="<span class="html-attribute-value">https://www.ibm.com/Search/</span>" <span class="html-attribute-name">method</span>="<span class="html-attribute-value">get</span>"&gt;</span></td></tr><tr><td class="line-number" value="130"></td><td class="line-content">                <span class="html-tag">&lt;p&gt;</span></td></tr><tr><td class="line-number" value="131"></td><td class="line-content">                    <span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">q</span>"&gt;</span>IBM<span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="132"></td><td class="line-content">                    <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text</span>" <span class="html-attribute-name">maxlength</span>="<span class="html-attribute-value">100</span>" <span class="html-attribute-name">value</span>="" <span class="html-attribute-name">placeholder</span>="<span class="html-attribute-value">搜索</span>" <span class="html-attribute-name">name</span>="<span class="html-attribute-value">q</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">q</span>" <span class="html-attribute-name">aria-label</span>="<span class="html-attribute-value">搜索 developerWorks</span>"/&gt;</span></td></tr><tr><td class="line-number" value="133"></td><td class="line-content">                    <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">hidden</span>" <span class="html-attribute-name">value</span>="<span class="html-attribute-value">18</span>" <span class="html-attribute-name">name</span>="<span class="html-attribute-value">v</span>"/&gt;</span></td></tr><tr><td class="line-number" value="134"></td><td class="line-content">                    <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">hidden</span>" <span class="html-attribute-name">value</span>="<span class="html-attribute-value">utf</span>" <span class="html-attribute-name">name</span>="<span class="html-attribute-value">en</span>"/&gt;</span></td></tr><tr><td class="line-number" value="135"></td><td class="line-content">                    <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">hidden</span>" <span class="html-attribute-name">value</span>="<span class="html-attribute-value">zh</span>" <span class="html-attribute-name">name</span>="<span class="html-attribute-value">lang</span>"/&gt;</span></td></tr><tr><td class="line-number" value="136"></td><td class="line-content">                    <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">hidden</span>" <span class="html-attribute-name">value</span>="<span class="html-attribute-value">cn</span>" <span class="html-attribute-name">name</span>="<span class="html-attribute-value">cc</span>"/&gt;</span></td></tr><tr><td class="line-number" value="137"></td><td class="line-content">                    <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">hidden</span>" <span class="html-attribute-name">name</span>="<span class="html-attribute-value">sn</span>" <span class="html-attribute-name">value</span>="<span class="html-attribute-value">dw</span>" /&gt;</span></td></tr><tr><td class="line-number" value="138"></td><td class="line-content">                    <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">hidden</span>" <span class="html-attribute-name">name</span>="<span class="html-attribute-value">dws</span>" <span class="html-attribute-name">value</span>="<span class="html-attribute-value">cndw</span>" /&gt;</span></td></tr><tr><td class="line-number" value="139"></td><td class="line-content">                    <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">hidden</span>" <span class="html-attribute-name">name</span>="<span class="html-attribute-value">hpp</span>" <span class="html-attribute-name">value</span>="<span class="html-attribute-value">20</span>" /&gt;</span></td></tr><tr><td class="line-number" value="140"></td><td class="line-content">                    <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">submit</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">ibm-search</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-btn-search</span>" <span class="html-attribute-name">value</span>="<span class="html-attribute-value">提交</span>"/&gt;</span></td></tr><tr><td class="line-number" value="141"></td><td class="line-content">                <span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="142"></td><td class="line-content">            <span class="html-tag">&lt;/form&gt;</span></td></tr><tr><td class="line-number" value="143"></td><td class="line-content">        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="144"></td><td class="line-content">       </td></tr><tr><td class="line-number" value="145"></td><td class="line-content">    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="146"></td><td class="line-content"><span class="html-tag">&lt;/div&gt;</span><span class="html-comment">&lt;!-- MASTHEAD_END --&gt;</span></td></tr><tr><td class="line-number" value="147"></td><td class="line-content">	    </td></tr><tr><td class="line-number" value="148"></td><td class="line-content"><span class="html-comment">&lt;!-- LAYOUT --&gt;</span></td></tr><tr><td class="line-number" value="149"></td><td class="line-content"><span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">ibm-content-wrapper</span>"&gt;</span></td></tr><tr><td class="line-number" value="150"></td><td class="line-content">    <span class="html-comment">&lt;!-- LEADSPACE_BEGIN --&gt;</span></td></tr><tr><td class="line-number" value="151"></td><td class="line-content">    <span class="html-tag">&lt;header <span class="html-attribute-name">role</span>="<span class="html-attribute-value">banner</span>" <span class="html-attribute-name">aria-labelledby</span>="<span class="html-attribute-value">ibm-pagetitle-h1</span>"&gt;</span></td></tr><tr><td class="line-number" value="152"></td><td class="line-content">        </td></tr><tr><td class="line-number" value="153"></td><td class="line-content">        <span class="html-comment">&lt;!-- MASTHEAD_SITENAV_BEGIN --&gt;</span></td></tr><tr><td class="line-number" value="154"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-sitenav-menu-container</span>"&gt;</span></td></tr><tr><td class="line-number" value="155"></td><td class="line-content">    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-sitenav-menu-name</span>"&gt;</span></td></tr><tr><td class="line-number" value="156"></td><td class="line-content">        <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/">//www.ibm.com/developerworks/cn/</a>"&gt;</span></td></tr><tr><td class="line-number" value="157"></td><td class="line-content">            <span class="html-tag">&lt;img <span class="html-attribute-name">width</span>="<span class="html-attribute-value">186</span>" <span class="html-attribute-name">height</span>="<span class="html-attribute-value">24</span>" <span class="html-attribute-name">alt</span>="<span class="html-attribute-value">developerWorks®</span>" <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://dw1.s81c.com/developerworks/i/mf/dw-mf-wordmark.svg">//dw1.s81c.com/developerworks/i/mf/dw-mf-wordmark.svg</a>"/&gt;</span></td></tr><tr><td class="line-number" value="158"></td><td class="line-content">        <span class="html-tag">&lt;/a&gt;</span></td></tr><tr><td class="line-number" value="159"></td><td class="line-content">    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="160"></td><td class="line-content">    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-sitenav-menu-list</span>"&gt;</span></td></tr><tr><td class="line-number" value="161"></td><td class="line-content">        <span class="html-tag">&lt;ul <span class="html-attribute-name">role</span>="<span class="html-attribute-value">menubar</span>"&gt;</span></td></tr><tr><td class="line-number" value="162"></td><td class="line-content">                            <span class="html-tag">&lt;li <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-navpage-learn</span>" <span class="html-attribute-name">role</span>="<span class="html-attribute-value">presentation</span>"&gt;</span></td></tr><tr><td class="line-number" value="163"></td><td class="line-content">                    <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/topics/">//www.ibm.com/developerworks/cn/topics/</a>" <span class="html-attribute-name">role</span>="<span class="html-attribute-value">menuitem</span>"&gt;</span>学习<span class="html-tag">&lt;/a&gt;</span></td></tr><tr><td class="line-number" value="164"></td><td class="line-content">                <span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="165"></td><td class="line-content">                    </td></tr><tr><td class="line-number" value="166"></td><td class="line-content">                <span class="html-tag">&lt;li <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-navpage-develop</span>" <span class="html-attribute-name">role</span>="<span class="html-attribute-value">presentation</span>"&gt;</span></td></tr><tr><td class="line-number" value="167"></td><td class="line-content">                    <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/downloads/">//www.ibm.com/developerworks/cn/downloads/</a>" <span class="html-attribute-name">role</span>="<span class="html-attribute-value">menuitem</span>"&gt;</span>开发<span class="html-tag">&lt;/a&gt;</span></td></tr><tr><td class="line-number" value="168"></td><td class="line-content">                <span class="html-tag">&lt;/li&gt;</span>                    </td></tr><tr><td class="line-number" value="169"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="170"></td><td class="line-content">                <span class="html-tag">&lt;li <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-navpage-connect</span>" <span class="html-attribute-name">role</span>="<span class="html-attribute-value">presentation</span>"&gt;</span></td></tr><tr><td class="line-number" value="171"></td><td class="line-content">                    <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/community/">//www.ibm.com/developerworks/cn/community/</a>" <span class="html-attribute-name">role</span>="<span class="html-attribute-value">menuitem</span>"&gt;</span>社区<span class="html-tag">&lt;/a&gt;</span></td></tr><tr><td class="line-number" value="172"></td><td class="line-content">                <span class="html-tag">&lt;/li&gt;</span>  </td></tr><tr><td class="line-number" value="173"></td><td class="line-content">        <span class="html-tag">&lt;/ul&gt;</span></td></tr><tr><td class="line-number" value="174"></td><td class="line-content">    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="175"></td><td class="line-content"><span class="html-tag">&lt;/div&gt;</span>        <span class="html-comment">&lt;!-- MASTHEAD_SITENAV_END --&gt;</span></td></tr><tr><td class="line-number" value="176"></td><td class="line-content">        </td></tr><tr><td class="line-number" value="177"></td><td class="line-content">        <span class="html-comment">&lt;!-- NAVIGATION_TRAIL_BEGIN --&gt;</span></td></tr><tr><td class="line-number" value="178"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">ibm-leadspace-head</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-alternate</span>"&gt;</span></td></tr><tr><td class="line-number" value="179"></td><td class="line-content">            <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">ibm-leadspace-body</span>"&gt;</span></td></tr><tr><td class="line-number" value="180"></td><td class="line-content">                <span class="html-tag">&lt;nav <span class="html-attribute-name">aria-label</span>="<span class="html-attribute-value">Breadcrumb</span>" <span class="html-attribute-name">role</span>="<span class="html-attribute-value">navigation</span>"&gt;</span>                     </td></tr><tr><td class="line-number" value="181"></td><td class="line-content">                            <span class="html-tag">&lt;ul <span class="html-attribute-name">id</span>="<span class="html-attribute-value">dw-navigation-trail</span>" <span class="html-attribute-name">itemscope</span>="" <span class="html-attribute-name">itemtype</span>="<span class="html-attribute-value">http://schema.org/BreadcrumbList</span>"&gt;</span><span class="html-tag">&lt;li <span class="html-attribute-name">itemprop</span>="<span class="html-attribute-value">itemListElement</span>" <span class="html-attribute-name">itemscope</span>="" <span class="html-attribute-name">itemtype</span>="<span class="html-attribute-value">http://schema.org/ListItem</span>"&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">itemprop</span>="<span class="html-attribute-value">item</span>" <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="http://www.ibm.com/developerworks/cn/topics/">http://www.ibm.com/developerworks/cn/topics/</a>"&gt;</span><span class="html-tag">&lt;span <span class="html-attribute-name">itemprop</span>="<span class="html-attribute-value">name</span>"&gt;</span>学习<span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;meta <span class="html-attribute-name">itemprop</span>="<span class="html-attribute-value">position</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">1</span>"/&gt;</span><span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;li <span class="html-attribute-name">itemprop</span>="<span class="html-attribute-value">itemListElement</span>" <span class="html-attribute-name">itemscope</span>="" <span class="html-attribute-name">itemtype</span>="<span class="html-attribute-value">http://schema.org/ListItem</span>"&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">itemprop</span>="<span class="html-attribute-value">item</span>" <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="http://www.ibm.com/developerworks/cn/opensource/">http://www.ibm.com/developerworks/cn/opensource/</a>"&gt;</span><span class="html-tag">&lt;span <span class="html-attribute-name">itemprop</span>="<span class="html-attribute-value">name</span>"&gt;</span>Open source<span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;meta <span class="html-attribute-name">itemprop</span>="<span class="html-attribute-value">position</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">2</span>"/&gt;</span><span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;/ul&gt;</span></td></tr><tr><td class="line-number" value="182"></td><td class="line-content">                <span class="html-tag">&lt;/nav&gt;</span></td></tr><tr><td class="line-number" value="183"></td><td class="line-content">            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="184"></td><td class="line-content">        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="185"></td><td class="line-content">        <span class="html-comment">&lt;!-- NAVIGATION_TRAIL_END --&gt;</span></td></tr><tr><td class="line-number" value="186"></td><td class="line-content">        </td></tr><tr><td class="line-number" value="187"></td><td class="line-content">    <span class="html-tag">&lt;/header&gt;</span></td></tr><tr><td class="line-number" value="188"></td><td class="line-content">    <span class="html-comment">&lt;!-- LEADSPACE_END --&gt;</span></td></tr><tr><td class="line-number" value="189"></td><td class="line-content">    </td></tr><tr><td class="line-number" value="190"></td><td class="line-content">    <span class="html-comment">&lt;!-- MAIN_CONTENT_BEGIN --&gt;</span></td></tr><tr><td class="line-number" value="191"></td><td class="line-content">    <span class="html-tag">&lt;main <span class="html-attribute-name">role</span>="<span class="html-attribute-value">main</span>" <span class="html-attribute-name">aria-labelledby</span>="<span class="html-attribute-value">ibm-pagetitle-h1</span>"&gt;</span> </td></tr><tr><td class="line-number" value="192"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">ibm-pcon</span>"&gt;</span></td></tr><tr><td class="line-number" value="193"></td><td class="line-content">            <span class="html-comment">&lt;!-- BEGIN_IBM-CONTENT --&gt;</span></td></tr><tr><td class="line-number" value="194"></td><td class="line-content">            <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">ibm-content</span>"&gt;</span></td></tr><tr><td class="line-number" value="195"></td><td class="line-content">                <span class="html-comment">&lt;!-- BEGIN_IBM-CONTENT-BODY --&gt;</span></td></tr><tr><td class="line-number" value="196"></td><td class="line-content">                <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">ibm-content-body</span>"&gt;</span></td></tr><tr><td class="line-number" value="197"></td><td class="line-content">                    <span class="html-comment">&lt;!-- BEGIN_IBM-CONTENT-MAIN --&gt;</span></td></tr><tr><td class="line-number" value="198"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">ibm-content-main</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-article</span>"&gt;</span>                        </td></tr><tr><td class="line-number" value="199"></td><td class="line-content">                        <span class="html-comment">&lt;!-- BEGIN_INTERIOR-COLUMNS --&gt;</span></td></tr><tr><td class="line-number" value="200"></td><td class="line-content">                                <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-columns dw-article-toc</span>"&gt;</span></td></tr><tr><td class="line-number" value="201"></td><td class="line-content">                                    <span class="html-comment">&lt;!-- LEFT_6_2_CONTENT_COLUMN_BEGIN --&gt;</span>  </td></tr><tr><td class="line-number" value="202"></td><td class="line-content">                                    <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">dw-article-toc-container</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-col-6-2</span>"&gt;</span></td></tr><tr><td class="line-number" value="203"></td><td class="line-content">                                        <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">dw-article-toc-body</span>"&gt;</span></td></tr><tr><td class="line-number" value="204"></td><td class="line-content">                                            <span class="html-tag">&lt;h2&gt;</span>内容<span class="html-tag">&lt;/h2&gt;</span><span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-alternate-rule</span>"&gt;</span><span class="html-tag">&lt;hr/&gt;</span><span class="html-tag">&lt;/div&gt;</span><span class="html-tag">&lt;ul <span class="html-attribute-name">role</span>="<span class="html-attribute-value">directory</span>" <span class="html-attribute-name">aria-label</span>="<span class="html-attribute-value">内容</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-plain-list</span>"&gt;</span><span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/opensource/os-cn-pythonwith/#ibm-pagetitle-h1">#ibm-pagetitle-h1</a>"&gt;</span>概览<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/opensource/os-cn-pythonwith/#1引言outline">#1引言outline</a>"&gt;</span>引言<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/opensource/os-cn-pythonwith/#2术语outline">#2术语outline</a>"&gt;</span>术语<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/opensource/os-cn-pythonwith/#3基本语法和工作原理outline">#3基本语法和工作原理outline</a>"&gt;</span>基本语法和工作原理<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/opensource/os-cn-pythonwith/#4自定义上下文管理器outline">#4自定义上下文管理器outline</a>"&gt;</span>自定义上下文管理器<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/opensource/os-cn-pythonwith/#5contextlib模块outline">#5contextlib模块outline</a>"&gt;</span>contextlib 模块<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/opensource/os-cn-pythonwith/#6小结outline">#6小结outline</a>"&gt;</span>小结<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/opensource/os-cn-pythonwith/#artrelatedtopics">#artrelatedtopics</a>"&gt;</span>相关主题<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/opensource/os-cn-pythonwith/#icomments">#icomments</a>"&gt;</span>评论<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;/ul&gt;</span></td></tr><tr><td class="line-number" value="205"></td><td class="line-content">                                        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="206"></td><td class="line-content">                                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="207"></td><td class="line-content">                                    <span class="html-comment">&lt;!-- LEFT_6_2_CONTENT_COLUMN_END --&gt;</span></td></tr><tr><td class="line-number" value="208"></td><td class="line-content">                                    </td></tr><tr><td class="line-number" value="209"></td><td class="line-content">                                    <span class="html-comment">&lt;!-- CENTER_6_4_CONTENT_COLUMN_BEGIN --&gt;</span></td></tr><tr><td class="line-number" value="210"></td><td class="line-content">                                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-col-6-4</span>"&gt;</span></td></tr><tr><td class="line-number" value="211"></td><td class="line-content">                                        <span class="html-tag">&lt;h1 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">ibm-pagetitle-h1</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h1</span>"&gt;</span>浅谈 Python 的 with 语句<span class="html-tag">&lt;/h1&gt;</span></td></tr><tr><td class="line-number" value="212"></td><td class="line-content">                                        <span class="html-comment">&lt;!-- Article Top Bar --&gt;</span></td></tr><tr><td class="line-number" value="213"></td><td class="line-content">                                                <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-columns dw-article-topbar</span>"&gt;</span></td></tr><tr><td class="line-number" value="214"></td><td class="line-content">                                                    <span class="html-comment">&lt;!-- Author and article info. --&gt;</span></td></tr><tr><td class="line-number" value="215"></td><td class="line-content">                                                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-col-6-2 ibm-col-medium-6-4 dw-article-metadata</span>"&gt;</span></td></tr><tr><td class="line-number" value="216"></td><td class="line-content">                                                        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-article-authordate</span>"&gt;</span>王 生辉 和 李 骅宸<span class="html-tag">&lt;br /&gt;</span><span class="html-tag">&lt;span <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-article-pubdate</span>"&gt;</span>2011 年 12 月 02 日发布<span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="217"></td><td class="line-content">                                                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="218"></td><td class="line-content">                                                    <span class="html-comment">&lt;!-- Social --&gt;</span></td></tr><tr><td class="line-number" value="219"></td><td class="line-content">                                                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-col-6-2 ibm-col-medium-6-4 ibm-col-small-6-2 dw-article-social</span>"&gt;</span></td></tr><tr><td class="line-number" value="220"></td><td class="line-content">                                                        <span class="html-comment">&lt;!-- Sharing links --&gt;</span></td></tr><tr><td class="line-number" value="221"></td><td class="line-content">                                                        <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">dw-article-share-inline</span>"&gt;</span></td></tr><tr><td class="line-number" value="222"></td><td class="line-content">                                                            <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-article-sharelink-inline</span>"&gt;</span></td></tr><tr><td class="line-number" value="223"></td><td class="line-content">                                                                <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-sharethispage</span>"&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="224"></td><td class="line-content">                                                            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="225"></td><td class="line-content">                                                        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="226"></td><td class="line-content">                                                        <span class="html-comment">&lt;!-- Number of comments and link to comments --&gt;</span></td></tr><tr><td class="line-number" value="227"></td><td class="line-content">                                                        <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">dw-article-cmts</span>"&gt;</span></td></tr><tr><td class="line-number" value="228"></td><td class="line-content">                                                            <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-article-cmtslink</span>"&gt;</span></td></tr><tr><td class="line-number" value="229"></td><td class="line-content">                                                                <span class="html-tag">&lt;a <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">tocLink('#icomments')</span>" <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/opensource/os-cn-pythonwith/#icomments">#icomments</a>" <span class="html-attribute-name">role</span>="<span class="html-attribute-value">link</span>" <span class="html-attribute-name">tabindex</span>="<span class="html-attribute-value">0</span>" <span class="html-attribute-name">aria-label</span>="<span class="html-attribute-value">Comments</span>"&gt;</span></td></tr><tr><td class="line-number" value="230"></td><td class="line-content">                                                                    <span class="html-tag">&lt;img <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://dw1.s81c.com/developerworks/i/v18/article/dw-article-cmt-icon.png">//dw1.s81c.com/developerworks/i/v18/article/dw-article-cmt-icon.png</a>" <span class="html-attribute-name">width</span>="<span class="html-attribute-value">29</span>" <span class="html-attribute-name">height</span>="<span class="html-attribute-value">29</span>" <span class="html-attribute-name">alt</span>="<span class="html-attribute-value">Comments</span>"/&gt;</span></td></tr><tr><td class="line-number" value="231"></td><td class="line-content">                                                                <span class="html-tag">&lt;/a&gt;</span></td></tr><tr><td class="line-number" value="232"></td><td class="line-content">                                                            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="233"></td><td class="line-content">                                                            <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-article-cmtslink</span>"&gt;</span></td></tr><tr><td class="line-number" value="234"></td><td class="line-content">                                                                <span class="html-tag">&lt;a <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">tocLink('#icomments')</span>" <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/opensource/os-cn-pythonwith/#icomments">#icomments</a>" <span class="html-attribute-name">role</span>="<span class="html-attribute-value">link</span>" <span class="html-attribute-name">tabindex</span>="<span class="html-attribute-value">0</span>"&gt;</span></td></tr><tr><td class="line-number" value="235"></td><td class="line-content">                                                                    <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">nCmts</span>"&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="236"></td><td class="line-content">                                                                <span class="html-tag">&lt;/a&gt;</span></td></tr><tr><td class="line-number" value="237"></td><td class="line-content">                                                            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="238"></td><td class="line-content">                                                        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="239"></td><td class="line-content">                                                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="240"></td><td class="line-content">                                                <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="241"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="242"></td><td class="line-content">                                        <span class="html-comment">&lt;!-- Article Body --&gt;</span></td></tr><tr><td class="line-number" value="243"></td><td class="line-content">                                        </td></tr><tr><td class="line-number" value="244"></td><td class="line-content">                                        <span class="html-tag">&lt;h2 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">1引言outline</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h2</span>"&gt;</span>引言<span class="html-tag">&lt;/h2&gt;</span><span class="html-tag">&lt;p&gt;</span>with 语句是从 Python 2.5 开始引入的一种与异常处理相关的功能（2.5 版本中要通过 from __future__ import with_statement 导入后才可以使用），从 2.6 版本开始缺省可用（参考 <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="http://docs.python.org/release/2.6/whatsnew/2.6.html#pep-343-the-with-statement">http://docs.python.org/release/2.6/whatsnew/2.6.html#pep-343-the-with-statement</a>"&gt;</span>What's new in Python 2.6?<span class="html-tag">&lt;/a&gt;</span> 中 with 语句相关部分介绍）。with 语句适用于对资源进行访问的场合，确保不管使用过程中是否发生异常都会执行必要的“清理”操作，释放资源，比如文件使用后自动关闭、线程中锁的自动获取和释放等。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;h2 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">2术语outline</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h2</span>"&gt;</span>术语<span class="html-tag">&lt;/h2&gt;</span><span class="html-tag">&lt;p&gt;</span>要使用 with 语句，首先要明白上下文管理器这一概念。有了上下文管理器，with 语句才能工作。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p&gt;</span>下面是一组与上下文管理器和with 语句有关的概念。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p&gt;</span><span class="html-tag">&lt;strong&gt;</span>上下文管理协议（Context Management Protocol）<span class="html-tag">&lt;/strong&gt;</span>：包含方法 __enter__() 和 __exit__()，支持<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p&gt;</span>  该协议的对象要实现这两个方法。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p&gt;</span><span class="html-tag">&lt;strong&gt;</span>上下文管理器（Context Manager）<span class="html-tag">&lt;/strong&gt;</span>：支持上下文管理协议的对象，这种对象实现了  <span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p&gt;</span>  __enter__() 和 __exit__() 方法。上下文管理器定义执行 with 语句时要建立的运行时上下文，<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p&gt;</span>  负责执行 with 语句块上下文中的进入与退出操作。通常使用 with 语句调用上下文管理器，<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p&gt;</span>  也可以通过直接调用其方法来使用。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p&gt;</span><span class="html-tag">&lt;strong&gt;</span>运行时上下文（runtime context）<span class="html-tag">&lt;/strong&gt;</span>：由上下文管理器创建，通过上下文管理器的 __enter__() 和 <span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p&gt;</span>  __exit__() 方法实现，__enter__() 方法在语句体执行之前进入运行时上下文，__exit__() 在<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p&gt;</span>  语句体执行完后从运行时上下文退出。with 语句支持运行时上下文这一概念。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p&gt;</span><span class="html-tag">&lt;strong&gt;</span>上下文表达式（Context Expression）<span class="html-tag">&lt;/strong&gt;</span>：with 语句中跟在关键字 with 之后的表达式，该表达式<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p&gt;</span>  要返回一个上下文管理器对象。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p&gt;</span><span class="html-tag">&lt;strong&gt;</span>语句体（with-body）<span class="html-tag">&lt;/strong&gt;</span>：with 语句包裹起来的代码块，在执行语句体之前会调用上下文管<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p&gt;</span>  理器的 __enter__() 方法，执行完语句体之后会执行 __exit__() 方法。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;h2 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">3基本语法和工作原理outline</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h2</span>"&gt;</span>基本语法和工作原理<span class="html-tag">&lt;/h2&gt;</span><span class="html-tag">&lt;p&gt;</span>with 语句的语法格式如下：<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;h5 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">N10087</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h5</span>"&gt;</span>清单 1. with 语句的语法格式<span class="html-tag">&lt;/h5&gt;</span><span class="html-tag">&lt;span <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-code-nohighlight</span>"&gt;</span><span class="html-tag">&lt;pre <span class="html-attribute-name">data-widget</span>="<span class="html-attribute-value">syntaxhighlighter</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">brush: js; html-script: true; gutter: true;</span>"&gt;</span>    with context_expression [as target(s)]:</td></tr><tr><td class="line-number" value="245"></td><td class="line-content">        with-body<span class="html-tag">&lt;/pre&gt;</span><span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;p&gt;</span>这里 context_expression 要返回一个上下文管理器对象，该对象并不赋值给 as 子句中的 target(s) ，如果指定了 as 子句的话，会将上下文管理器的 __enter__() 方法的返回值赋值给 target(s)。target(s) 可以是单个变量，或者由“()”括起来的元组（不能是仅仅由“,”分隔的变量列表，必须加“()”）。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p&gt;</span>Python 对一些内建对象进行改进，加入了对上下文管理器的支持，可以用于 with 语句中，比如可以自动关闭文件、线程锁的自动获取和释放等。假设要对一个文件进行操作，使用 with 语句可以有如下代码：<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;h5 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">N10093</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h5</span>"&gt;</span>清单 2. 使用 with 语句操作文件对象<span class="html-tag">&lt;/h5&gt;</span><span class="html-tag">&lt;span <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-code-nohighlight</span>"&gt;</span><span class="html-tag">&lt;pre <span class="html-attribute-name">data-widget</span>="<span class="html-attribute-value">syntaxhighlighter</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">brush: js; html-script: true; gutter: true;</span>"&gt;</span>    with open(r'somefileName') as somefile:</td></tr><tr><td class="line-number" value="246"></td><td class="line-content">        for line in somefile:</td></tr><tr><td class="line-number" value="247"></td><td class="line-content">            print line</td></tr><tr><td class="line-number" value="248"></td><td class="line-content">            # ...more code<span class="html-tag">&lt;/pre&gt;</span><span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;p&gt;</span>这里使用了 with 语句，不管在处理文件过程中是否发生异常，都能保证 with 语句执行完毕后已经关闭了打开的文件句柄。如果使用传统的 try/finally 范式，则要使用类似如下代码：<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;h5 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">N1009D</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h5</span>"&gt;</span>清单 3. try/finally 方式操作文件对象<span class="html-tag">&lt;/h5&gt;</span><span class="html-tag">&lt;span <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-code-nohighlight</span>"&gt;</span><span class="html-tag">&lt;pre <span class="html-attribute-name">data-widget</span>="<span class="html-attribute-value">syntaxhighlighter</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">brush: js; html-script: true; gutter: true;</span>"&gt;</span>    somefile = open(r'somefileName')</td></tr><tr><td class="line-number" value="249"></td><td class="line-content">    try:</td></tr><tr><td class="line-number" value="250"></td><td class="line-content">        for line in somefile:</td></tr><tr><td class="line-number" value="251"></td><td class="line-content">            print line</td></tr><tr><td class="line-number" value="252"></td><td class="line-content">            # ...more code</td></tr><tr><td class="line-number" value="253"></td><td class="line-content">    finally:</td></tr><tr><td class="line-number" value="254"></td><td class="line-content">        somefile.close()<span class="html-tag">&lt;/pre&gt;</span><span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;p&gt;</span>比较起来，使用 with 语句可以减少编码量。已经加入对上下文管理协议支持的还有模块 threading、decimal 等。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="http://www.python.org/dev/peps/pep-0343/">http://www.python.org/dev/peps/pep-0343/</a>"&gt;</span>PEP 0343 <span class="html-tag">&lt;/a&gt;</span> 对 with 语句的实现进行了描述。with 语句的执行过程类似如下代码块：<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;h5 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">N100AC</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h5</span>"&gt;</span>清单 4. with 语句执行过程<span class="html-tag">&lt;/h5&gt;</span><span class="html-tag">&lt;span <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-code-nohighlight</span>"&gt;</span><span class="html-tag">&lt;pre <span class="html-attribute-name">data-widget</span>="<span class="html-attribute-value">syntaxhighlighter</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">brush: js; html-script: true; gutter: true;</span>"&gt;</span>    context_manager = context_expression</td></tr><tr><td class="line-number" value="255"></td><td class="line-content">    exit = type(context_manager).__exit__  </td></tr><tr><td class="line-number" value="256"></td><td class="line-content">    value = type(context_manager).__enter__(context_manager)</td></tr><tr><td class="line-number" value="257"></td><td class="line-content">    exc = True   # True 表示正常执行，即便有异常也忽略；False 表示重新抛出异常，需要对异常进行处理</td></tr><tr><td class="line-number" value="258"></td><td class="line-content">    try:</td></tr><tr><td class="line-number" value="259"></td><td class="line-content">        try:</td></tr><tr><td class="line-number" value="260"></td><td class="line-content">            target = value  # 如果使用了 as 子句</td></tr><tr><td class="line-number" value="261"></td><td class="line-content">            with-body     # 执行 with-body</td></tr><tr><td class="line-number" value="262"></td><td class="line-content">        except:</td></tr><tr><td class="line-number" value="263"></td><td class="line-content">            # 执行过程中有异常发生</td></tr><tr><td class="line-number" value="264"></td><td class="line-content">            exc = False</td></tr><tr><td class="line-number" value="265"></td><td class="line-content">            # 如果 __exit__ 返回 True，则异常被忽略；如果返回 False，则重新抛出异常</td></tr><tr><td class="line-number" value="266"></td><td class="line-content">            # 由外层代码对异常进行处理</td></tr><tr><td class="line-number" value="267"></td><td class="line-content">            if not exit(context_manager, *sys.exc_info()):</td></tr><tr><td class="line-number" value="268"></td><td class="line-content">                raise</td></tr><tr><td class="line-number" value="269"></td><td class="line-content">    finally:</td></tr><tr><td class="line-number" value="270"></td><td class="line-content">        # 正常退出，或者通过 statement-body 中的 break/continue/return 语句退出</td></tr><tr><td class="line-number" value="271"></td><td class="line-content">        # 或者忽略异常退出</td></tr><tr><td class="line-number" value="272"></td><td class="line-content">        if exc:</td></tr><tr><td class="line-number" value="273"></td><td class="line-content">            exit(context_manager, None, None, None) </td></tr><tr><td class="line-number" value="274"></td><td class="line-content">        # 缺省返回 None，None 在布尔上下文中看做是 False<span class="html-tag">&lt;/pre&gt;</span><span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;ol <span class="html-attribute-name">type</span>="<span class="html-attribute-value">1</span>"&gt;</span><span class="html-tag">&lt;li&gt;</span>执行 context_expression，生成上下文管理器 context_manager<span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;li&gt;</span></td></tr><tr><td class="line-number" value="275"></td><td class="line-content">调用上下文管理器的 __enter__() 方法；如果使用了 as 子句，则将 __enter__() 方法的返回值赋值给 as 子句中的 target(s) <span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;li&gt;</span></td></tr><tr><td class="line-number" value="276"></td><td class="line-content">执行语句体 with-body <span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;li&gt;</span></td></tr><tr><td class="line-number" value="277"></td><td class="line-content">不管是否执行过程中是否发生了异常，执行上下文管理器的 __exit__() 方法，__exit__() 方法负责执行“清理”工作，如释放资源等。如果执行过程中没有出现异常，或者语句体中执行了语句 break/continue/return，则以 None 作为参数调用 __exit__(None, None, None) ；如果执行过程中出现异常，则使用 sys.exc_info 得到的异常信息为参数调用 __exit__(exc_type, exc_value, exc_traceback)<span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;li&gt;</span></td></tr><tr><td class="line-number" value="278"></td><td class="line-content">出现异常时，如果 __exit__(type, value, traceback) 返回 False，则会重新抛出异常，让with 之外的语句逻辑来处理异常，这也是通用做法；如果返回 True，则忽略异常，不再对异常进行处理                                                                                                                                                                                   <span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;/ol&gt;</span><span class="html-tag">&lt;h2 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">4自定义上下文管理器outline</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h2</span>"&gt;</span>自定义上下文管理器<span class="html-tag">&lt;/h2&gt;</span><span class="html-tag">&lt;p&gt;</span>开发人员可以自定义支持上下文管理协议的类。自定义的上下文管理器要实现上下文管理协议所需要的 __enter__() 和 __exit__() 两个方法：<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;ul <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-bullet-list</span>"&gt;</span><span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;strong&gt;</span>context_manager.__enter__()<span class="html-tag">&lt;/strong&gt;</span> ：进入上下文管理器的运行时上下文，在语句体执行前调用。with 语句将该方法的返回值赋值给 as 子句中的 target，如果指定了 as 子句的话<span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;strong&gt;</span>context_manager.__exit__(exc_type, exc_value, exc_traceback)<span class="html-tag">&lt;/strong&gt;</span> ：退出与上下文管理器相关的运行时上下文，返回一个布尔值表示是否对发生的异常进行处理。参数表示引起退出操作的异常，如果退出时没有发生异常，则3个参数都为None。如果发生异常，返回 </td></tr><tr><td class="line-number" value="279"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="280"></td><td class="line-content"><span class="html-tag">&lt;p&gt;</span>True 表示不处理异常，否则会在退出该方法后重新抛出异常以由 with 语句之外的代码逻辑进行处理。如果该方法内部产生异常，则会取代由 statement-body 中语句产生的异常。要处理异常时，不要显示重新抛出异常，即不能重新抛出通过参数传递进来的异常，只需要将返回值设置为 False 就可以了。之后，上下文管理代码会检测是否 __exit__() 失败来处理异常                                                                                        <span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;/ul&gt;</span><span class="html-tag">&lt;p&gt;</span>下面通过一个简单的示例来演示如何构建自定义的上下文管理器。注意，上下文管理器必须同时提供 __enter__() 和 __exit__() 方法的定义，缺少任何一个都会导致 AttributeError；with 语句会先检查是否提供了 __exit__() 方法，然后检查是否定义了 __enter__() 方法。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p&gt;</span>假设有一个资源 DummyResource，这种资源需要在访问前先分配，使用完后再释放掉；分配操作可以放到 __enter__() 方法中，释放操作可以放到 __exit__() 方法中。简单起见，这里只通过打印语句来表明当前的操作，并没有实际的资源分配与释放。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;h5 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">N100D6</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h5</span>"&gt;</span>清单 5. 自定义支持 with 语句的对象<span class="html-tag">&lt;/h5&gt;</span><span class="html-tag">&lt;span <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-code-nohighlight</span>"&gt;</span><span class="html-tag">&lt;pre <span class="html-attribute-name">data-widget</span>="<span class="html-attribute-value">syntaxhighlighter</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">brush: js; html-script: true; gutter: true;</span>"&gt;</span>    class DummyResource:</td></tr><tr><td class="line-number" value="281"></td><td class="line-content">    def __init__(self, tag):</td></tr><tr><td class="line-number" value="282"></td><td class="line-content">            self.tag = tag</td></tr><tr><td class="line-number" value="283"></td><td class="line-content">            print 'Resource [%s]' % tag</td></tr><tr><td class="line-number" value="284"></td><td class="line-content">        def __enter__(self):</td></tr><tr><td class="line-number" value="285"></td><td class="line-content">            print '[Enter %s]: Allocate resource.' % self.tag</td></tr><tr><td class="line-number" value="286"></td><td class="line-content">            return self	  # 可以返回不同的对象</td></tr><tr><td class="line-number" value="287"></td><td class="line-content">        def __exit__(self, exc_type, exc_value, exc_tb):</td></tr><tr><td class="line-number" value="288"></td><td class="line-content">            print '[Exit %s]: Free resource.' % self.tag</td></tr><tr><td class="line-number" value="289"></td><td class="line-content">            if exc_tb is None:</td></tr><tr><td class="line-number" value="290"></td><td class="line-content">                print '[Exit %s]: Exited without exception.' % self.tag</td></tr><tr><td class="line-number" value="291"></td><td class="line-content">            else:</td></tr><tr><td class="line-number" value="292"></td><td class="line-content">                print '[Exit %s]: Exited with exception raised.' % self.tag</td></tr><tr><td class="line-number" value="293"></td><td class="line-content">                return False   # 可以省略，缺省的None也是被看做是False<span class="html-tag">&lt;/pre&gt;</span><span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;p&gt;</span>DummyResource 中的 __enter__() 返回的是自身的引用，这个引用可以赋值给 as 子句中的 target 变量；返回值的类型可以根据实际需要设置为不同的类型，不必是上下文管理器对象本身。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p&gt;</span>__exit__() 方法中对变量 exc_tb 进行检测，如果不为 None，表示发生了异常，返回 False 表示需要由外部代码逻辑对异常进行处理；注意到如果没有发生异常，缺省的返回值为 None，在布尔环境中也是被看做 False，但是由于没有异常发生，__exit__() 的三个参数都为 None，上下文管理代码可以检测这种情况，做正常处理。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p&gt;</span>下面在 with 语句中访问 DummyResource ：<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;h5 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">N100E4</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h5</span>"&gt;</span>清单 6. 使用自定义的支持 with 语句的对象<span class="html-tag">&lt;/h5&gt;</span><span class="html-tag">&lt;span <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-code-nohighlight</span>"&gt;</span><span class="html-tag">&lt;pre <span class="html-attribute-name">data-widget</span>="<span class="html-attribute-value">syntaxhighlighter</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">brush: js; html-script: true; gutter: true;</span>"&gt;</span>    with DummyResource('Normal'):</td></tr><tr><td class="line-number" value="294"></td><td class="line-content">        print '[with-body] Run without exceptions.'</td></tr><tr><td class="line-number" value="295"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="296"></td><td class="line-content">    with DummyResource('With-Exception'):</td></tr><tr><td class="line-number" value="297"></td><td class="line-content">        print '[with-body] Run with exception.'</td></tr><tr><td class="line-number" value="298"></td><td class="line-content">        raise Exception</td></tr><tr><td class="line-number" value="299"></td><td class="line-content">        print '[with-body] Run with exception. Failed to finish statement-body!'<span class="html-tag">&lt;/pre&gt;</span><span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;p&gt;</span>第1个 with 语句的执行结果如下：<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;h5 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">N100EE</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h5</span>"&gt;</span>清单 7. with 语句1执行结果<span class="html-tag">&lt;/h5&gt;</span><span class="html-tag">&lt;span <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-code-nohighlight</span>"&gt;</span><span class="html-tag">&lt;pre <span class="html-attribute-name">data-widget</span>="<span class="html-attribute-value">syntaxhighlighter</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">brush: js; html-script: true; gutter: true;</span>"&gt;</span>    Resource [Normal]</td></tr><tr><td class="line-number" value="300"></td><td class="line-content">    [Enter Normal]: Allocate resource.</td></tr><tr><td class="line-number" value="301"></td><td class="line-content">    [with-body] Run without exceptions.</td></tr><tr><td class="line-number" value="302"></td><td class="line-content">    [Exit Normal]: Free resource.</td></tr><tr><td class="line-number" value="303"></td><td class="line-content">    [Exit Normal]: Exited without exception.<span class="html-tag">&lt;/pre&gt;</span><span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;p&gt;</span>可以看到，正常执行时会先执行完语句体 with-body，然后执行 __exit__() 方法释放资源。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p&gt;</span>第2个 with 语句的执行结果如下：<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;h5 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">N100FA</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h5</span>"&gt;</span>清单 8. with 语句2执行结果<span class="html-tag">&lt;/h5&gt;</span><span class="html-tag">&lt;span <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-code-nohighlight</span>"&gt;</span><span class="html-tag">&lt;pre <span class="html-attribute-name">data-widget</span>="<span class="html-attribute-value">syntaxhighlighter</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">brush: js; html-script: true; gutter: true;</span>"&gt;</span>    Resource [With-Exception]</td></tr><tr><td class="line-number" value="304"></td><td class="line-content">    [Enter With-Exception]: Allocate resource.</td></tr><tr><td class="line-number" value="305"></td><td class="line-content">    [with-body] Run with exception.</td></tr><tr><td class="line-number" value="306"></td><td class="line-content">    [Exit With-Exception]: Free resource.</td></tr><tr><td class="line-number" value="307"></td><td class="line-content">    [Exit With-Exception]: Exited with exception raised.</td></tr><tr><td class="line-number" value="308"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="309"></td><td class="line-content">    Traceback (most recent call last):</td></tr><tr><td class="line-number" value="310"></td><td class="line-content">      File "G:/demo", line 20, in &amp;lt;module&amp;gt;</td></tr><tr><td class="line-number" value="311"></td><td class="line-content">       raise Exception</td></tr><tr><td class="line-number" value="312"></td><td class="line-content">    Exception<span class="html-tag">&lt;/pre&gt;</span><span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;p&gt;</span>可以看到，with-body 中发生异常时with-body 并没有执行完，但资源会保证被释放掉，同时产生的异常由 with 语句之外的代码逻辑来捕获处理。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p&gt;</span>可以自定义上下文管理器来对软件系统中的资源进行管理，比如数据库连接、共享资源的访问控制等。Python 在线文档 <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="http://docs.python.org/release/2.6/whatsnew/2.6.html#module-contextlib">http://docs.python.org/release/2.6/whatsnew/2.6.html#module-contextlib</a>"&gt;</span>Writing Context Managers<span class="html-tag">&lt;/a&gt;</span> 提供了一个针对数据库连接进行管理的上下文管理器的简单范例。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;h2 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">5contextlib模块outline</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h2</span>"&gt;</span>contextlib 模块<span class="html-tag">&lt;/h2&gt;</span><span class="html-tag">&lt;p&gt;</span>contextlib 模块提供了3个对象：装饰器 contextmanager、函数 nested 和上下文管理器 closing。使用这些对象，可以对已有的生成器函数或者对象进行包装，加入对上下文管理协议的支持，避免了专门编写上下文管理器来支持 with 语句。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;h3 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">N1010F</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h3</span>"&gt;</span>装饰器 contextmanager<span class="html-tag">&lt;/h3&gt;</span><span class="html-tag">&lt;p&gt;</span>contextmanager 用于对生成器函数进行装饰，生成器函数被装饰以后，返回的是一个上下文管理器，其 __enter__() 和 __exit__() 方法由 contextmanager 负责提供，而不再是之前的迭代子。被装饰的生成器函数只能产生一个值，否则会导致异常 RuntimeError；产生的值会赋值给 as 子句中的 target，如果使用了 as 子句的话。下面看一个简单的例子。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;h5 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">N10118</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h5</span>"&gt;</span>清单 9. 装饰器 contextmanager 使用示例<span class="html-tag">&lt;/h5&gt;</span><span class="html-tag">&lt;span <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-code-nohighlight</span>"&gt;</span><span class="html-tag">&lt;pre <span class="html-attribute-name">data-widget</span>="<span class="html-attribute-value">syntaxhighlighter</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">brush: js; html-script: true; gutter: true;</span>"&gt;</span>    from contextlib import contextmanager</td></tr><tr><td class="line-number" value="313"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="314"></td><td class="line-content">    @contextmanager</td></tr><tr><td class="line-number" value="315"></td><td class="line-content">    def demo():</td></tr><tr><td class="line-number" value="316"></td><td class="line-content">        print '[Allocate resources]'</td></tr><tr><td class="line-number" value="317"></td><td class="line-content">        print 'Code before yield-statement executes in __enter__'</td></tr><tr><td class="line-number" value="318"></td><td class="line-content">        yield '*** contextmanager demo ***'</td></tr><tr><td class="line-number" value="319"></td><td class="line-content">        print 'Code after yield-statement executes in __exit__'</td></tr><tr><td class="line-number" value="320"></td><td class="line-content">        print '[Free resources]'</td></tr><tr><td class="line-number" value="321"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="322"></td><td class="line-content">    with demo() as value:</td></tr><tr><td class="line-number" value="323"></td><td class="line-content">        print 'Assigned Value: %s' % value<span class="html-tag">&lt;/pre&gt;</span><span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;p&gt;</span>结果输出如下：<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;h5 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">N10122</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h5</span>"&gt;</span>清单 10. contextmanager 使用示例执行结果<span class="html-tag">&lt;/h5&gt;</span><span class="html-tag">&lt;span <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-code-nohighlight</span>"&gt;</span><span class="html-tag">&lt;pre <span class="html-attribute-name">data-widget</span>="<span class="html-attribute-value">syntaxhighlighter</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">brush: js; html-script: true; gutter: true;</span>"&gt;</span>    [Allocate resources]</td></tr><tr><td class="line-number" value="324"></td><td class="line-content">    Code before yield-statement executes in __enter__</td></tr><tr><td class="line-number" value="325"></td><td class="line-content">    Assigned Value: *** contextmanager demo ***</td></tr><tr><td class="line-number" value="326"></td><td class="line-content">    Code after yield-statement executes in __exit__</td></tr><tr><td class="line-number" value="327"></td><td class="line-content">    [Free resources]<span class="html-tag">&lt;/pre&gt;</span><span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;p&gt;</span>可以看到，生成器函数中 yield 之前的语句在 __enter__() 方法中执行，yield 之后的语句在 __exit__() 中执行，而 yield 产生的值赋给了 as 子句中的 value 变量。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p&gt;</span>需要注意的是，contextmanager 只是省略了 __enter__() / __exit__() 的编写，但并不负责实现资源的“获取”和“清理”工作；“获取”操作需要定义在 yield 语句之前，“清理”操作需要定义 yield 语句之后，这样 with 语句在执行 __enter__() / __exit__() 方法时会执行这些语句以获取/释放资源，即生成器函数中需要实现必要的逻辑控制，包括资源访问出现错误时抛出适当的异常。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;h3 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">N1012C</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h3</span>"&gt;</span>函数 nested<span class="html-tag">&lt;/h3&gt;</span><span class="html-tag">&lt;p&gt;</span>nested 可以将多个上下文管理器组织在一起，避免使用嵌套 with 语句。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;h5 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">N10135</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h5</span>"&gt;</span>清单 11. nested 语法<span class="html-tag">&lt;/h5&gt;</span><span class="html-tag">&lt;span <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-code-nohighlight</span>"&gt;</span><span class="html-tag">&lt;pre <span class="html-attribute-name">data-widget</span>="<span class="html-attribute-value">syntaxhighlighter</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">brush: js; html-script: true; gutter: true;</span>"&gt;</span>    with nested(A(), B(), C()) as (X, Y, Z):</td></tr><tr><td class="line-number" value="328"></td><td class="line-content">         # with-body code here<span class="html-tag">&lt;/pre&gt;</span><span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;p&gt;</span>类似于：<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;h5 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">N1013F</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h5</span>"&gt;</span>清单 12. nested 执行过程<span class="html-tag">&lt;/h5&gt;</span><span class="html-tag">&lt;span <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-code-nohighlight</span>"&gt;</span><span class="html-tag">&lt;pre <span class="html-attribute-name">data-widget</span>="<span class="html-attribute-value">syntaxhighlighter</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">brush: js; html-script: true; gutter: true;</span>"&gt;</span>    with A() as X:</td></tr><tr><td class="line-number" value="329"></td><td class="line-content">        with B() as Y:</td></tr><tr><td class="line-number" value="330"></td><td class="line-content">            with C() as Z:</td></tr><tr><td class="line-number" value="331"></td><td class="line-content">                 # with-body code here<span class="html-tag">&lt;/pre&gt;</span><span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;p&gt;</span>需要注意的是，发生异常后，如果某个上下文管理器的 __exit__() 方法对异常处理返回 False，则更外层的上下文管理器不会监测到异常。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;h3 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">N10147</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h3</span>"&gt;</span>上下文管理器 closing<span class="html-tag">&lt;/h3&gt;</span><span class="html-tag">&lt;p&gt;</span>closing 的实现如下：<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;h5 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">N10150</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h5</span>"&gt;</span>清单 13. 上下文管理 closing 实现<span class="html-tag">&lt;/h5&gt;</span><span class="html-tag">&lt;span <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-code-nohighlight</span>"&gt;</span><span class="html-tag">&lt;pre <span class="html-attribute-name">data-widget</span>="<span class="html-attribute-value">syntaxhighlighter</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">brush: js; html-script: true; gutter: true;</span>"&gt;</span>    class closing(object):</td></tr><tr><td class="line-number" value="332"></td><td class="line-content">        # help doc here</td></tr><tr><td class="line-number" value="333"></td><td class="line-content">        def __init__(self, thing):</td></tr><tr><td class="line-number" value="334"></td><td class="line-content">            self.thing = thing</td></tr><tr><td class="line-number" value="335"></td><td class="line-content">        def __enter__(self):</td></tr><tr><td class="line-number" value="336"></td><td class="line-content">            return self.thing</td></tr><tr><td class="line-number" value="337"></td><td class="line-content">        def __exit__(self, *exc_info):</td></tr><tr><td class="line-number" value="338"></td><td class="line-content">            self.thing.close()<span class="html-tag">&lt;/pre&gt;</span><span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;p&gt;</span>上下文管理器会将包装的对象赋值给 as 子句的 target 变量，同时保证打开的对象在 with-body 执行完后会关闭掉。closing 上下文管理器包装起来的对象必须提供 close() 方法的定义，否则执行时会报 AttributeError 错误。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;h5 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">N1015A</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h5</span>"&gt;</span>清单 14. 自定义支持 closing 的对象<span class="html-tag">&lt;/h5&gt;</span><span class="html-tag">&lt;span <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-code-nohighlight</span>"&gt;</span><span class="html-tag">&lt;pre <span class="html-attribute-name">data-widget</span>="<span class="html-attribute-value">syntaxhighlighter</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">brush: js; html-script: true; gutter: true;</span>"&gt;</span>    class ClosingDemo(object):</td></tr><tr><td class="line-number" value="339"></td><td class="line-content">        def __init__(self):</td></tr><tr><td class="line-number" value="340"></td><td class="line-content">            self.acquire()</td></tr><tr><td class="line-number" value="341"></td><td class="line-content">        def acquire(self):</td></tr><tr><td class="line-number" value="342"></td><td class="line-content">            print 'Acquire resources.'</td></tr><tr><td class="line-number" value="343"></td><td class="line-content">        def free(self):</td></tr><tr><td class="line-number" value="344"></td><td class="line-content">            print 'Clean up any resources acquired.'</td></tr><tr><td class="line-number" value="345"></td><td class="line-content">        def close(self):</td></tr><tr><td class="line-number" value="346"></td><td class="line-content">            self.free()</td></tr><tr><td class="line-number" value="347"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="348"></td><td class="line-content">    with closing(ClosingDemo()):</td></tr><tr><td class="line-number" value="349"></td><td class="line-content">        print 'Using resources'<span class="html-tag">&lt;/pre&gt;</span><span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;p&gt;</span>结果输出如下：<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;h5 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">N10164</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h5</span>"&gt;</span>清单 15. 自定义 closing 对象的输出结果<span class="html-tag">&lt;/h5&gt;</span><span class="html-tag">&lt;span <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-code-nohighlight</span>"&gt;</span><span class="html-tag">&lt;pre <span class="html-attribute-name">data-widget</span>="<span class="html-attribute-value">syntaxhighlighter</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">brush: js; html-script: true; gutter: true;</span>"&gt;</span>    Acquire resources.</td></tr><tr><td class="line-number" value="350"></td><td class="line-content">    Using resources</td></tr><tr><td class="line-number" value="351"></td><td class="line-content">    Clean up any resources acquired.<span class="html-tag">&lt;/pre&gt;</span><span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;p&gt;</span>closing 适用于提供了 close() 实现的对象，比如网络连接、数据库连接等，也可以在自定义类时通过接口 close() 来执行所需要的资源“清理”工作。<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;h2 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">6小结outline</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h2</span>"&gt;</span>小结<span class="html-tag">&lt;/h2&gt;</span><span class="html-tag">&lt;p&gt;</span>本文对 with 语句的语法和工作机理进行了介绍，并通过示例介绍了如何实现自定义的上下文管理器，最后介绍了如何使用 contextlib 模块来简化上下文管理器的编写。<span class="html-tag">&lt;/p&gt;</span><span class="html-comment">&lt;!--CMA ID: 778639--&gt;</span><span class="html-comment">&lt;!--Site ID: 10--&gt;</span><span class="html-comment">&lt;!--XSLT stylesheet used to transform this file: dw-document-html-8.0.xsl--&gt;</span> </td></tr><tr><td class="line-number" value="352"></td><td class="line-content">                                        <span class="html-comment">&lt;!-- Article Resources --&gt;</span></td></tr><tr><td class="line-number" value="353"></td><td class="line-content">                                        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-alternate-rule</span>"&gt;</span><span class="html-tag">&lt;hr/&gt;</span><span class="html-tag">&lt;/div&gt;</span><span class="html-tag">&lt;h4 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">artrelatedtopics</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h4</span>"&gt;</span>相关主题<span class="html-tag">&lt;/h4&gt;</span><span class="html-tag">&lt;ul&gt;</span><span class="html-tag">&lt;li&gt;</span>Python 2.6 版本的 <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="http://docs.python.org/release/2.6/whatsnew/2.6.html#pep-343-the-with-statement">http://docs.python.org/release/2.6/whatsnew/2.6.html#pep-343-the-with-statement</a>"&gt;</span>What's new in Python 2.6?<span class="html-tag">&lt;/a&gt;</span> 对 with 语句进行了介绍。<span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;li&gt;</span>参看 <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="http://my.safaribooksonline.com/book/programming/python/9780596513986">http://my.safaribooksonline.com/book/programming/python/9780596513986</a>"&gt;</span>&amp;lt;&amp;lt;Learning Python, Third Edition&amp;gt;&amp;gt;<span class="html-tag">&lt;/a&gt;</span> 对异常处理、with 语句、以及生成器和装饰器的介绍。<span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;li&gt;</span>参看 <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="http://my.safaribooksonline.com/book/programming/python/0132269937">http://my.safaribooksonline.com/book/programming/python/0132269937</a>"&gt;</span>&amp;lt;&amp;lt;Core Python Programming, Second Edition&amp;gt;&amp;gt;<span class="html-tag">&lt;/a&gt;</span> 对异常处理、with 语句、以及生成器和装饰器的介绍。<span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;li&gt;</span>Python 在线文档 <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="http://docs.python.org/release/2.6.6/library/stdtypes.html#typecontextmanager">http://docs.python.org/release/2.6.6/library/stdtypes.html#typecontextmanager</a>"&gt;</span>Context Manager Types<span class="html-tag">&lt;/a&gt;</span> 和 <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="http://docs.python.org/release/2.6.6/reference/datamodel.html#context-managers">http://docs.python.org/release/2.6.6/reference/datamodel.html#context-managers</a>"&gt;</span>With Statement Context Managers<span class="html-tag">&lt;/a&gt;</span> 对上下文管理器和 with 语句进行了介绍。<span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="http://docs.python.org/release/2.6.6/library/contextlib.html">http://docs.python.org/release/2.6.6/library/contextlib.html</a>"&gt;</span>contextlib — Utilities for with-statement contexts<span class="html-tag">&lt;/a&gt;</span> 对 contextlib 进行了介绍，contextlib 的实现细节可以参看 Python 源码包下的 Lib/contextlib.py 文件。<span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="http://www.python.org/dev/peps/pep-0343/">http://www.python.org/dev/peps/pep-0343/</a>"&gt;</span>PEP  0343<span class="html-tag">&lt;/a&gt;</span> 介绍了 with 语句的产生背景、规范以及使用。<span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;li&gt;</span>随时关注 developerWorks <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="http://www.ibm.com/developerworks/cn/offers/techbriefings/">http://www.ibm.com/developerworks/cn/offers/techbriefings/</a>"&gt;</span>技术活动<span class="html-tag">&lt;/a&gt;</span>和<span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="http://www.ibm.com/developerworks/cn/swi/">http://www.ibm.com/developerworks/cn/swi/</a>"&gt;</span>网络广播<span class="html-tag">&lt;/a&gt;</span>。 <span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;li&gt;</span> 访问 developerWorks <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="http://www.ibm.com/developerworks/cn/opensource/">http://www.ibm.com/developerworks/cn/opensource/</a>"&gt;</span>Open source 专区<span class="html-tag">&lt;/a&gt;</span>获得丰富的 how-to 信息、工具和项目更新以及<span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="http://www.ibm.com/developerworks/cn/opensource/best2009/index.html">http://www.ibm.com/developerworks/cn/opensource/best2009/index.html</a>"&gt;</span>最受欢迎的文章和教程<span class="html-tag">&lt;/a&gt;</span>，帮助您用开放源码技术进行开发，并将它们与 IBM 产品结合使用。<span class="html-tag">&lt;/li&gt;</span><span class="html-tag">&lt;/ul&gt;</span></td></tr><tr><td class="line-number" value="354"></td><td class="line-content">                                        <span class="html-comment">&lt;!-- Commenting --&gt;</span></td></tr><tr><td class="line-number" value="355"></td><td class="line-content"><span class="html-comment">&lt;!-- INLINE_COMMENTS_BEGIN: --&gt;</span></td></tr><tr><td class="line-number" value="356"></td><td class="line-content"><span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-alternate-rule</span>"&gt;</span><span class="html-tag">&lt;hr/&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="357"></td><td class="line-content"><span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">dw-article-cmts-top</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-columns</span>"&gt;</span></td></tr><tr><td class="line-number" value="358"></td><td class="line-content">    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-col-6-2</span>"&gt;</span></td></tr><tr><td class="line-number" value="359"></td><td class="line-content">        <span class="html-tag">&lt;h4 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">icomments</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-h4</span>"&gt;</span>评论<span class="html-tag">&lt;/h4&gt;</span></td></tr><tr><td class="line-number" value="360"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">dw-article-cmts-login</span>"&gt;</span></td></tr><tr><td class="line-number" value="361"></td><td class="line-content">            <span class="html-tag">&lt;p&gt;</span>添加或订阅评论，请先<span class="html-tag">&lt;a <span class="html-attribute-name">onClick</span>="<span class="html-attribute-value">window.location=userLinks[0].url;</span>" <span class="html-attribute-name">tabindex</span>="<span class="html-attribute-value">0</span>" <span class="html-attribute-name">role</span>="<span class="html-attribute-value">link</span>"&gt;</span>登录<span class="html-tag">&lt;/a&gt;</span>或<span class="html-tag">&lt;a <span class="html-attribute-name">onClick</span>="<span class="html-attribute-value">window.location=userLinks[1].url;</span>" <span class="html-attribute-name">tabindex</span>="<span class="html-attribute-value">0</span>" <span class="html-attribute-name">role</span>="<span class="html-attribute-value">link</span>"&gt;</span>注册<span class="html-tag">&lt;/a&gt;</span>。<span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="362"></td><td class="line-content">        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="363"></td><td class="line-content">    <span class="html-tag">&lt;/div&gt;</span>    </td></tr><tr><td class="line-number" value="364"></td><td class="line-content">    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-col-6-2</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">dw-notify</span>"&gt;</span> </td></tr><tr><td class="line-number" value="365"></td><td class="line-content">        <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">checkbox</span>" <span class="html-attribute-name">value</span>="<span class="html-attribute-value">1</span>" <span class="html-attribute-name">name</span>="<span class="html-attribute-value">comment_notification</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">comment_notification</span>" <span class="html-attribute-name">disabled</span>="<span class="html-attribute-value">disabled</span>"&gt;</span></td></tr><tr><td class="line-number" value="366"></td><td class="line-content">        <span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">comment_notification</span>"&gt;</span>有新评论时提醒我<span class="html-tag">&lt;/label&gt;</span>	   </td></tr><tr><td class="line-number" value="367"></td><td class="line-content">    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="368"></td><td class="line-content"><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="369"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="370"></td><td class="line-content"><span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-article-cmts-container</span>"&gt;</span>       </td></tr><tr><td class="line-number" value="371"></td><td class="line-content">    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-no-print</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">dw-icomments-container</span>"&gt;</span>	</td></tr><tr><td class="line-number" value="372"></td><td class="line-content">        </td></tr><tr><td class="line-number" value="373"></td><td class="line-content">    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="374"></td><td class="line-content"><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="375"></td><td class="line-content"><span class="html-comment">&lt;!-- INLINE_COMMENTS_END --&gt;</span>                                        <span class="html-comment">&lt;!-- CENTER_6_4_CONTENT_COLUMN_END --&gt;</span></td></tr><tr><td class="line-number" value="376"></td><td class="line-content">                                    <span class="html-tag">&lt;/div&gt;</span>   </td></tr><tr><td class="line-number" value="377"></td><td class="line-content">                                <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="378"></td><td class="line-content">                        <span class="html-comment">&lt;!--Rating_Meta_BEGIN--&gt;</span><span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">metavalue</span>"&gt;</span>static.content.url=http://www.ibm.com/developerworks/js/artrating/<span class="html-tag">&lt;/div&gt;</span><span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">metavalue</span>"&gt;</span>SITE_ID=10<span class="html-tag">&lt;/div&gt;</span><span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">metavalue</span>"&gt;</span>Zone=Open source<span class="html-tag">&lt;/div&gt;</span><span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">metavalue</span>"&gt;</span>ArticleID=778639<span class="html-tag">&lt;/div&gt;</span><span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">metavalue</span>"&gt;</span>ArticleTitle=浅谈 Python 的 with 语句<span class="html-tag">&lt;/div&gt;</span><span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">metavalue</span>"&gt;</span>publish-date=12022011<span class="html-tag">&lt;/div&gt;</span><span class="html-tag">&lt;script <span class="html-attribute-name">language</span>="<span class="html-attribute-value">javascript</span>" <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text/javascript</span>"&gt;</span>document.write('&lt;div class="metavalue"&gt;url='+location.href.replace(/&lt;/g,  '%3C')+'&lt;/div&gt;');<span class="html-tag">&lt;/script&gt;</span><span class="html-comment">&lt;!--Rating_Meta_END--&gt;</span></td></tr><tr><td class="line-number" value="379"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="380"></td><td class="line-content">                    <span class="html-comment">&lt;!-- END_IBM-CONTENT-MAIN --&gt;</span></td></tr><tr><td class="line-number" value="381"></td><td class="line-content">                <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="382"></td><td class="line-content">                <span class="html-comment">&lt;!-- END_IBM-CONTENT-BODY --&gt;</span></td></tr><tr><td class="line-number" value="383"></td><td class="line-content">            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="384"></td><td class="line-content">            <span class="html-comment">&lt;!-- END_IBM-CONTENT --&gt;</span></td></tr><tr><td class="line-number" value="385"></td><td class="line-content">        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="386"></td><td class="line-content">        <span class="html-comment">&lt;!-- END_IBM-PCON --&gt;</span></td></tr><tr><td class="line-number" value="387"></td><td class="line-content">    <span class="html-tag">&lt;/main&gt;</span></td></tr><tr><td class="line-number" value="388"></td><td class="line-content">    <span class="html-comment">&lt;!-- MAIN_CONTENT_END --&gt;</span></td></tr><tr><td class="line-number" value="389"></td><td class="line-content">    </td></tr><tr><td class="line-number" value="390"></td><td class="line-content">    <span class="html-comment">&lt;!-- END_CONTENT-WRAPPER --&gt;</span>	</td></tr><tr><td class="line-number" value="391"></td><td class="line-content"><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="392"></td><td class="line-content"><span class="html-comment">&lt;!-- FOOTER_BEGIN --&gt;</span></td></tr><tr><td class="line-number" value="393"></td><td class="line-content"><span class="html-tag">&lt;footer <span class="html-attribute-name">role</span>="<span class="html-attribute-value">contentinfo</span>" <span class="html-attribute-name">aria-label</span>="<span class="html-attribute-value">IBM developerWorks</span>"&gt;</span></td></tr><tr><td class="line-number" value="394"></td><td class="line-content">    <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">dw-footer-module</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-footer-home</span>"&gt;</span></td></tr><tr><td class="line-number" value="395"></td><td class="line-content">        <span class="html-tag">&lt;section <span class="html-attribute-name">aria-label</span>="<span class="html-attribute-value">参考资料</span>" <span class="html-attribute-name">role</span>="<span class="html-attribute-value">contentinfo</span>"&gt;</span></td></tr><tr><td class="line-number" value="396"></td><td class="line-content">            <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-columns</span>"&gt;</span></td></tr><tr><td class="line-number" value="397"></td><td class="line-content">                <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-col-6-1 dw-footer-col-1</span>"&gt;</span></td></tr><tr><td class="line-number" value="398"></td><td class="line-content">                    <span class="html-tag">&lt;ul&gt;</span></td></tr><tr><td class="line-number" value="399"></td><td class="line-content">                        <span class="html-tag">&lt;li <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-footer-heading</span>" <span class="html-attribute-name">aria-label</span>="<span class="html-attribute-value">developerWorks</span>"&gt;</span>developerWorks<span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="400"></td><td class="line-content">                        <span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/secure/feedback.jsp?domain=dwchina">//www.ibm.com/developerworks/secure/feedback.jsp?domain=dwchina</a>"&gt;</span>站点反馈<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="401"></td><td class="line-content">                        <span class="html-tag">&lt;li <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-footer-newline</span>"&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/secure/myideas2.jsp?domain=dwchina">//www.ibm.com/developerworks/secure/myideas2.jsp?domain=dwchina</a>"&gt;</span>我要投稿<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="402"></td><td class="line-content">                        <span class="html-tag">&lt;li <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-footer-newline</span>"&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/author/">//www.ibm.com/developerworks/cn/author/</a>"&gt;</span>投稿指南<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="403"></td><td class="line-content">                        <span class="html-tag">&lt;li <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-footer-newline</span>"&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/community/report?lang=zh">//www.ibm.com/developerworks/community/report?lang=zh</a>"&gt;</span>报告滥用<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="404"></td><td class="line-content">                        <span class="html-tag">&lt;li <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-footer-newline</span>"&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/community/terms/thirdparty/">//www.ibm.com/developerworks/cn/community/terms/thirdparty/</a>"&gt;</span>第三方提示<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="405"></td><td class="line-content">                    <span class="html-tag">&lt;/ul&gt;</span></td></tr><tr><td class="line-number" value="406"></td><td class="line-content">                    <span class="html-tag">&lt;ul&gt;</span></td></tr><tr><td class="line-number" value="407"></td><td class="line-content">                        <span class="html-tag">&lt;li <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-footer-newline</span>"&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://weibo.com/ibmdw/">//weibo.com/ibmdw/</a>"&gt;</span>关注微博<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="408"></td><td class="line-content">                    <span class="html-tag">&lt;/ul&gt;</span></td></tr><tr><td class="line-number" value="409"></td><td class="line-content">                <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="410"></td><td class="line-content">                <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-col-6-1 dw-footer-col-2</span>"&gt;</span></td></tr><tr><td class="line-number" value="411"></td><td class="line-content">                    <span class="html-tag">&lt;ul&gt;</span></td></tr><tr><td class="line-number" value="412"></td><td class="line-content">                        <span class="html-tag">&lt;li <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-footer-heading</span>" <span class="html-attribute-name">aria-label</span>="<span class="html-attribute-value">加入</span>"&gt;</span>加入<span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="413"></td><td class="line-content">                        <span class="html-tag">&lt;li <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-footer-newline</span>"&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/partnerworld/isv/">//www.ibm.com/partnerworld/isv/</a>"&gt;</span>ISV 资源 (英语)<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="414"></td><td class="line-content">                    <span class="html-tag">&lt;/ul&gt;</span></td></tr><tr><td class="line-number" value="415"></td><td class="line-content">                    <span class="html-tag">&lt;ul <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-footer-lang</span>" <span class="html-attribute-name">aria-label</span>="<span class="html-attribute-value">选择语言</span>"&gt;</span></td></tr><tr><td class="line-number" value="416"></td><td class="line-content">                        <span class="html-tag">&lt;li <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-footer-heading</span>"&gt;</span>选择语言<span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="417"></td><td class="line-content">                        <span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/">//www.ibm.com/developerworks/</a>"&gt;</span>English<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="418"></td><td class="line-content">                        <span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/">//www.ibm.com/developerworks/cn/</a>" <span class="html-attribute-name">lang</span>="<span class="html-attribute-value">zh</span>"&gt;</span>中文<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="419"></td><td class="line-content">                        <span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/jp/">//www.ibm.com/developerworks/jp/</a>" <span class="html-attribute-name">lang</span>="<span class="html-attribute-value">ja</span>"&gt;</span>日本語<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="420"></td><td class="line-content">                        <span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/ru/">//www.ibm.com/developerworks/ru/</a>" <span class="html-attribute-name">lang</span>="<span class="html-attribute-value">ru</span>"&gt;</span>Русский<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="421"></td><td class="line-content">                        <span class="html-tag">&lt;li <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-footer-newline</span>"&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/br/">//www.ibm.com/developerworks/br/</a>" <span class="html-attribute-name">lang</span>="<span class="html-attribute-value">pt</span>"&gt;</span>Português (Brasil)<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="422"></td><td class="line-content">                        <span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/ssa/">//www.ibm.com/developerworks/ssa/</a>" <span class="html-attribute-name">lang</span>="<span class="html-attribute-value">es</span>"&gt;</span>Español<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="423"></td><td class="line-content">                        <span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://developer.ibm.com/kr/">//developer.ibm.com/kr/</a>" <span class="html-attribute-name">lang</span>="<span class="html-attribute-value">kr</span>"&gt;</span>한글<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="424"></td><td class="line-content">                    <span class="html-tag">&lt;/ul&gt;</span></td></tr><tr><td class="line-number" value="425"></td><td class="line-content">                <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="426"></td><td class="line-content">                <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-col-6-1 dw-footer-col-3</span>"&gt;</span> <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="427"></td><td class="line-content">                <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-col-6-1 dw-footer-col-4</span>"&gt;</span></td></tr><tr><td class="line-number" value="428"></td><td class="line-content">                    <span class="html-tag">&lt;ul <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-footer-categories</span>"&gt;</span></td></tr><tr><td class="line-number" value="429"></td><td class="line-content">                        <span class="html-tag">&lt;li <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-footer-category</span>"&gt;</span></td></tr><tr><td class="line-number" value="430"></td><td class="line-content">                            <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/views/global/libraryview.jsp">//www.ibm.com/developerworks/cn/views/global/libraryview.jsp</a>"&gt;</span>技术文档库<span class="html-tag">&lt;/a&gt;</span></td></tr><tr><td class="line-number" value="431"></td><td class="line-content">                        <span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="432"></td><td class="line-content">                        <span class="html-tag">&lt;li <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-footer-category</span>"&gt;</span></td></tr><tr><td class="line-number" value="433"></td><td class="line-content">                            <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/rss/">//www.ibm.com/developerworks/cn/rss/</a>"&gt;</span>订阅源<span class="html-tag">&lt;/a&gt;</span>  </td></tr><tr><td class="line-number" value="434"></td><td class="line-content">                        <span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="435"></td><td class="line-content">                    <span class="html-tag">&lt;/ul&gt;</span></td></tr><tr><td class="line-number" value="436"></td><td class="line-content">                <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="437"></td><td class="line-content">                <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-col-6-1 dw-footer-col-5</span>"&gt;</span></td></tr><tr><td class="line-number" value="438"></td><td class="line-content">                    <span class="html-tag">&lt;ul <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-footer-categories</span>"&gt;</span></td></tr><tr><td class="line-number" value="439"></td><td class="line-content">                        <span class="html-tag">&lt;li <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-footer-category</span>"&gt;</span></td></tr><tr><td class="line-number" value="440"></td><td class="line-content">                            <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/community/">//www.ibm.com/developerworks/cn/community/</a>"&gt;</span>社区<span class="html-tag">&lt;/a&gt;</span>  </td></tr><tr><td class="line-number" value="441"></td><td class="line-content">                        <span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="442"></td><td class="line-content">                        <span class="html-tag">&lt;li <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-footer-category</span>"&gt;</span></td></tr><tr><td class="line-number" value="443"></td><td class="line-content">                            <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="http://ibmdeveloperworks.mkt6741.com/developerWorksChina-NewsletterSubscriptionPage/">http://ibmdeveloperworks.mkt6741.com/developerWorksChina-NewsletterSubscriptionPage/</a>"&gt;</span>dW 中国时事通讯<span class="html-tag">&lt;/a&gt;</span>  </td></tr><tr><td class="line-number" value="444"></td><td class="line-content">                        <span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="445"></td><td class="line-content">                    <span class="html-tag">&lt;/ul&gt;</span></td></tr><tr><td class="line-number" value="446"></td><td class="line-content">                <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="447"></td><td class="line-content">                <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-col-6-1 dw-footer-col-6</span>"&gt;</span></td></tr><tr><td class="line-number" value="448"></td><td class="line-content">                    <span class="html-tag">&lt;ul <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-footer-categories</span>"&gt;</span></td></tr><tr><td class="line-number" value="449"></td><td class="line-content">                        <span class="html-tag">&lt;li <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-footer-category</span>"&gt;</span></td></tr><tr><td class="line-number" value="450"></td><td class="line-content">                            <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/downloads/">//www.ibm.com/developerworks/cn/downloads/</a>"&gt;</span>软件下载<span class="html-tag">&lt;/a&gt;</span>  </td></tr><tr><td class="line-number" value="451"></td><td class="line-content">                        <span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="452"></td><td class="line-content">                    <span class="html-tag">&lt;/ul&gt;</span></td></tr><tr><td class="line-number" value="453"></td><td class="line-content">                <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="454"></td><td class="line-content">            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="455"></td><td class="line-content">        <span class="html-tag">&lt;/section&gt;</span></td></tr><tr><td class="line-number" value="456"></td><td class="line-content">    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="457"></td><td class="line-content">    <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">dw-footer</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-padding-normal ibm-alternate</span>"&gt;</span></td></tr><tr><td class="line-number" value="458"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-columns</span>"&gt;</span></td></tr><tr><td class="line-number" value="459"></td><td class="line-content">            <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-col-1-1</span>"&gt;</span></td></tr><tr><td class="line-number" value="460"></td><td class="line-content">                <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">dw-footer-corporate-links</span>"&gt;</span></td></tr><tr><td class="line-number" value="461"></td><td class="line-content">                <span class="html-tag">&lt;ul&gt;</span></td></tr><tr><td class="line-number" value="462"></td><td class="line-content">                    <span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/contact/cn/zh/">//www.ibm.com/contact/cn/zh/</a>"&gt;</span>联系 IBM<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="463"></td><td class="line-content">                    <span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/privacy/cn/zh/">//www.ibm.com/privacy/cn/zh/</a>"&gt;</span>隐私条约<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="464"></td><td class="line-content">                    <span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/community/terms?lang=zh">//www.ibm.com/developerworks/community/terms?lang=zh</a>"&gt;</span>使用条款<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="465"></td><td class="line-content">                    <span class="html-tag">&lt;li&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/accessibility/cn/zh/">//www.ibm.com/accessibility/cn/zh/</a>"&gt;</span>信息无障碍选项<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="466"></td><td class="line-content">                    <span class="html-tag">&lt;li <span class="html-attribute-name">class</span>="<span class="html-attribute-value">ibm-feedbacklink</span>"&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/opensource/os-cn-pythonwith/#">#</a>"&gt;</span>反馈<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="467"></td><td class="line-content">                    <span class="html-tag">&lt;li <span class="html-attribute-name">id</span>="<span class="html-attribute-value">ibm-truste-cp</span>"&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">truste.eu.clickListener();return false;</span>" <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.ibm.com/developerworks/cn/opensource/os-cn-pythonwith/#">#</a>"&gt;</span>Cookie 首选项<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="468"></td><td class="line-content">                <span class="html-tag">&lt;/ul&gt;</span>                 </td></tr><tr><td class="line-number" value="469"></td><td class="line-content">                <span class="html-tag">&lt;/div&gt;</span>    </td></tr><tr><td class="line-number" value="470"></td><td class="line-content">            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="471"></td><td class="line-content">        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="472"></td><td class="line-content">    <span class="html-tag">&lt;/div&gt;</span>        </td></tr><tr><td class="line-number" value="473"></td><td class="line-content"><span class="html-tag">&lt;/footer&gt;</span> <span class="html-comment">&lt;!-- FOOTER_END --&gt;</span></td></tr><tr><td class="line-number" value="474"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="475"></td><td class="line-content"><span class="html-comment">&lt;!-- END_IBM-TOP --&gt;</span></td></tr><tr><td class="line-number" value="476"></td><td class="line-content"><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="477"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="478"></td><td class="line-content"><span class="html-comment">&lt;!-- SCRIPTS_INCLUDE_BEGIN --&gt;</span></td></tr><tr><td class="line-number" value="479"></td><td class="line-content"><span class="html-comment">&lt;!-- Styles --&gt;</span></td></tr><tr><td class="line-number" value="480"></td><td class="line-content"><span class="html-tag">&lt;link <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">stylesheet</span>" <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text/css</span>" <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://www.ibm.com/developerworks/maverick/css/plugin/comments/jquery-comments.css">/developerworks/maverick/css/plugin/comments/jquery-comments.css</a>"&gt;</span></td></tr><tr><td class="line-number" value="481"></td><td class="line-content"><span class="html-tag">&lt;link <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">stylesheet</span>" <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://www.ibm.com/developerworks/maverick/fonts/awesome-4.5.0/css/font-awesome.min.css">/developerworks/maverick/fonts/awesome-4.5.0/css/font-awesome.min.css</a>"&gt;</span></td></tr><tr><td class="line-number" value="482"></td><td class="line-content"></td></tr><tr><td class="line-number" value="483"></td><td class="line-content"><span class="html-comment">&lt;!-- Libraries --&gt;</span></td></tr><tr><td class="line-number" value="484"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text/javascript</span>" <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://www.ibm.com/developerworks/maverick/js/plugin/comments/jquery-comments.min.js">/developerworks/maverick/js/plugin/comments/jquery-comments.min.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="485"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text/javascript</span>" <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://www.ibm.com/developerworks/maverick/js/plugin/formatter/moment-with-locales.js">/developerworks/maverick/js/plugin/formatter/moment-with-locales.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="486"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text/javascript</span>" <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://www.ibm.com/developerworks/maverick/js/ContentComments.js">/developerworks/maverick/js/ContentComments.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="487"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text/javascript</span>" <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://www.ibm.com/developerworks/js/v18/ContentCommentsFormatter.js">/developerworks/js/v18/ContentCommentsFormatter.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="488"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text/javascript</span>" <span class="html-attribute-name">language</span>="<span class="html-attribute-value">JavaScript</span>"&gt;</span></td></tr><tr><td class="line-number" value="489"></td><td class="line-content"></td></tr><tr><td class="line-number" value="490"></td><td class="line-content">	IBMCore.common.module.masthead.subscribe("ready", "customjs", setupCommentsPlugin).runAsap(setupCommentsPlugin);</td></tr><tr><td class="line-number" value="491"></td><td class="line-content"></td></tr><tr><td class="line-number" value="492"></td><td class="line-content">	function setupCommentsPlugin(){</td></tr><tr><td class="line-number" value="493"></td><td class="line-content">		//debugger;</td></tr><tr><td class="line-number" value="494"></td><td class="line-content">			//alert(userLinks);</td></tr><tr><td class="line-number" value="495"></td><td class="line-content">			var commentsInitInfo = {</td></tr><tr><td class="line-number" value="496"></td><td class="line-content">				contentId : $("div[class=metavalue]:contains('ArticleID=')").text().split("=")[1],</td></tr><tr><td class="line-number" value="497"></td><td class="line-content">				siteId :  $("div[class=metavalue]:contains('SITE_ID=')").text().split("=")[1],</td></tr><tr><td class="line-number" value="498"></td><td class="line-content">				pluginDivId : '#dw-icomments-container',</td></tr><tr><td class="line-number" value="499"></td><td class="line-content">				notifyElementId : "#comment_notification",</td></tr><tr><td class="line-number" value="500"></td><td class="line-content">				loginMessageDivId : "#dw-article-cmts-login",</td></tr><tr><td class="line-number" value="501"></td><td class="line-content">				totalCommentsDivId : "#nCmts"</td></tr><tr><td class="line-number" value="502"></td><td class="line-content">			};				</td></tr><tr><td class="line-number" value="503"></td><td class="line-content">								</td></tr><tr><td class="line-number" value="504"></td><td class="line-content">			ContentComments.Setup(commentsInitInfo);</td></tr><tr><td class="line-number" value="505"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="506"></td><td class="line-content"><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="507"></td><td class="line-content"><span class="html-comment">&lt;!-- Piwik --&gt;</span></td></tr><tr><td class="line-number" value="508"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text/javascript</span>"&gt;</span></td></tr><tr><td class="line-number" value="509"></td><td class="line-content">    var _paq = _paq || [];</td></tr><tr><td class="line-number" value="510"></td><td class="line-content">    _paq.push(["setDomains", ["*.www.ibm.com/developerworks","*.www.ibm.com/developerworks"]]);</td></tr><tr><td class="line-number" value="511"></td><td class="line-content">    _paq.push(['trackPageView']);</td></tr><tr><td class="line-number" value="512"></td><td class="line-content">    _paq.push(['enableLinkTracking']);</td></tr><tr><td class="line-number" value="513"></td><td class="line-content">    (function() {</td></tr><tr><td class="line-number" value="514"></td><td class="line-content">    var u="//developer.ibm.com/piwik/";</td></tr><tr><td class="line-number" value="515"></td><td class="line-content">    _paq.push(['setTrackerUrl', u+'piwik.php']);</td></tr><tr><td class="line-number" value="516"></td><td class="line-content">    _paq.push(['setSiteId', 7]);</td></tr><tr><td class="line-number" value="517"></td><td class="line-content">    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];</td></tr><tr><td class="line-number" value="518"></td><td class="line-content">    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);</td></tr><tr><td class="line-number" value="519"></td><td class="line-content">    })();</td></tr><tr><td class="line-number" value="520"></td><td class="line-content"><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="521"></td><td class="line-content"><span class="html-tag">&lt;noscript&gt;</span>&lt;p&gt;&lt;img src="//developer.ibm.com/piwik/piwik.php?idsite=7" style="border:0;" alt="" /&gt;&lt;/p&gt;<span class="html-tag">&lt;/noscript&gt;</span></td></tr><tr><td class="line-number" value="522"></td><td class="line-content"><span class="html-comment">&lt;!-- End Piwik Code --&gt;</span><span class="html-comment">&lt;!-- Hotjar Tracking Code for ibm.com --&gt;</span></td></tr><tr><td class="line-number" value="523"></td><td class="line-content"><span class="html-tag">&lt;script&gt;</span></td></tr><tr><td class="line-number" value="524"></td><td class="line-content">    (function(h,o,t,j,a,r){</td></tr><tr><td class="line-number" value="525"></td><td class="line-content">    h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};</td></tr><tr><td class="line-number" value="526"></td><td class="line-content">    h._hjSettings={hjid:42920,hjsv:5};</td></tr><tr><td class="line-number" value="527"></td><td class="line-content">    a=o.getElementsByTagName('head')[0];</td></tr><tr><td class="line-number" value="528"></td><td class="line-content">    r=o.createElement('script');r.async=1;</td></tr><tr><td class="line-number" value="529"></td><td class="line-content">    r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;</td></tr><tr><td class="line-number" value="530"></td><td class="line-content">    a.appendChild(r);</td></tr><tr><td class="line-number" value="531"></td><td class="line-content">    })(window,document,'//static.hotjar.com/c/hotjar-','.js?sv=');</td></tr><tr><td class="line-number" value="532"></td><td class="line-content"><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="533"></td><td class="line-content"><span class="html-comment">&lt;!-- SCRIPTS_INCLUDE_END --&gt;</span></td></tr><tr><td class="line-number" value="534"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="535"></td><td class="line-content"><span class="html-tag">&lt;/body&gt;</span></td></tr><tr><td class="line-number" value="536"></td><td class="line-content"><span class="html-tag">&lt;/html&gt;</span></td></tr><tr><td class="line-number" value="537"></td><td class="line-content"><span class="html-end-of-file"></span></td></tr></tbody></table></body></html>